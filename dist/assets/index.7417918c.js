import{c as lt,e as di,g as ws,r as bs,s as Ms,a as pi,b as Es}from"./index.9024fa71.js";var gi={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(m,b,_){this.fn=m,this.context=b,this.once=_||!1}function o(m,b,_,C,A){if(typeof _!="function")throw new TypeError("The listener must be a function");var T=new a(_,C||m,A),k=n?n+b:b;return m._events[k]?m._events[k].fn?m._events[k]=[m._events[k],T]:m._events[k].push(T):(m._events[k]=T,m._eventsCount++),m}function u(m,b){--m._eventsCount===0?m._events=new r:delete m._events[b]}function g(){this._events=new r,this._eventsCount=0}g.prototype.eventNames=function(){var b=[],_,C;if(this._eventsCount===0)return b;for(C in _=this._events)e.call(_,C)&&b.push(n?C.slice(1):C);return Object.getOwnPropertySymbols?b.concat(Object.getOwnPropertySymbols(_)):b},g.prototype.listeners=function(b){var _=n?n+b:b,C=this._events[_];if(!C)return[];if(C.fn)return[C.fn];for(var A=0,T=C.length,k=new Array(T);A<T;A++)k[A]=C[A].fn;return k},g.prototype.listenerCount=function(b){var _=n?n+b:b,C=this._events[_];return C?C.fn?1:C.length:0},g.prototype.emit=function(b,_,C,A,T,k){var I=n?n+b:b;if(!this._events[I])return!1;var w=this._events[I],E=arguments.length,S,x;if(w.fn){switch(w.once&&this.removeListener(b,w.fn,void 0,!0),E){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,_),!0;case 3:return w.fn.call(w.context,_,C),!0;case 4:return w.fn.call(w.context,_,C,A),!0;case 5:return w.fn.call(w.context,_,C,A,T),!0;case 6:return w.fn.call(w.context,_,C,A,T,k),!0}for(x=1,S=new Array(E-1);x<E;x++)S[x-1]=arguments[x];w.fn.apply(w.context,S)}else{var R=w.length,N;for(x=0;x<R;x++)switch(w[x].once&&this.removeListener(b,w[x].fn,void 0,!0),E){case 1:w[x].fn.call(w[x].context);break;case 2:w[x].fn.call(w[x].context,_);break;case 3:w[x].fn.call(w[x].context,_,C);break;case 4:w[x].fn.call(w[x].context,_,C,A);break;default:if(!S)for(N=1,S=new Array(E-1);N<E;N++)S[N-1]=arguments[N];w[x].fn.apply(w[x].context,S)}}return!0},g.prototype.on=function(b,_,C){return o(this,b,_,C,!1)},g.prototype.once=function(b,_,C){return o(this,b,_,C,!0)},g.prototype.removeListener=function(b,_,C,A){var T=n?n+b:b;if(!this._events[T])return this;if(!_)return u(this,T),this;var k=this._events[T];if(k.fn)k.fn===_&&(!A||k.once)&&(!C||k.context===C)&&u(this,T);else{for(var I=0,w=[],E=k.length;I<E;I++)(k[I].fn!==_||A&&!k[I].once||C&&k[I].context!==C)&&w.push(k[I]);w.length?this._events[T]=w.length===1?w[0]:w:u(this,T)}return this},g.prototype.removeAllListeners=function(b){var _;return b?(_=n?n+b:b,this._events[_]&&u(this,_)):(this._events=new r,this._eventsCount=0),this},g.prototype.off=g.prototype.removeListener,g.prototype.addListener=g.prototype.on,g.prefixed=n,g.EventEmitter=g,t.exports=g})(gi);const vi=gi.exports,xs="PARSE_ERROR",Ss="INVALID_REQUEST",Cs="METHOD_NOT_FOUND",Rs="INVALID_PARAMS",mi="INTERNAL_ERROR",Pn="SERVER_ERROR",Ts=[-32700,-32600,-32601,-32602,-32603],ut={[xs]:{code:-32700,message:"Parse error"},[Ss]:{code:-32600,message:"Invalid Request"},[Cs]:{code:-32601,message:"Method not found"},[Rs]:{code:-32602,message:"Invalid params"},[mi]:{code:-32603,message:"Internal error"},[Pn]:{code:-32e3,message:"Server error"}},_i=Pn;function ks(t){return Ts.includes(t)}function Cr(t){return Object.keys(ut).includes(t)?ut[t]:ut[_i]}function As(t){const e=Object.values(ut).find(n=>n.code===t);return e||ut[_i]}function Is(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var ot={},qe={};Object.defineProperty(qe,"__esModule",{value:!0});qe.isBrowserCryptoAvailable=qe.getSubtleCrypto=qe.getBrowerCrypto=void 0;function Un(){return(globalThis==null?void 0:globalThis.crypto)||(globalThis==null?void 0:globalThis.msCrypto)||{}}qe.getBrowerCrypto=Un;function yi(){const t=Un();return t.subtle||t.webkitSubtle}qe.getSubtleCrypto=yi;function Os(){return!!Un()&&!!yi()}qe.isBrowserCryptoAvailable=Os;var Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.isBrowser=Fe.isNode=Fe.isReactNative=void 0;function wi(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Fe.isReactNative=wi;function bi(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Fe.isNode=bi;function Ns(){return!wi()&&!bi()}Fe.isBrowser=Ns;(function(t){var e=lt&&lt.__createBinding||(Object.create?function(r,a,o,u){u===void 0&&(u=o),Object.defineProperty(r,u,{enumerable:!0,get:function(){return a[o]}})}:function(r,a,o,u){u===void 0&&(u=o),r[u]=a[o]}),n=lt&&lt.__exportStar||function(r,a){for(var o in r)o!=="default"&&!a.hasOwnProperty(o)&&e(a,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(qe,t),n(Fe,t)})(ot);function Mi(){const t=Date.now()*Math.pow(10,3),e=Math.floor(Math.random()*Math.pow(10,3));return t+e}function Bs(t,e,n){return{id:n||Mi(),jsonrpc:"2.0",method:t,params:e}}function yn(t,e,n){return{id:t,jsonrpc:"2.0",error:Ls(e,n)}}function Ls(t,e){return typeof t>"u"?Cr(mi):(typeof t=="string"&&(t=Object.assign(Object.assign({},Cr(Pn)),{message:t})),typeof e<"u"&&(t.data=e),ks(t.code)&&(t=As(t.code)),t)}class Ei{}class Ps extends Ei{constructor(e){super()}}class Us extends Ei{constructor(){super()}}class Ds extends Us{constructor(e){super()}}const qs="^https?:";function Fs(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function $s(t,e){const n=Fs(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function Rr(t){return $s(t,qs)}function Hs(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function Ws(t){return Hs(t)&&(zs(t)||xi(t))}function zs(t){return"result"in t}function xi(t){return"error"in t}class Tr extends Ds{constructor(e){super(e),this.events=new di.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Bs(e.method,e.params||[]),n)}async requestStrict(e,n){return new Promise(async(r,a)=>{if(!this.connection.connected)try{await this.open()}catch(o){a(o)}this.events.on(`${e.id}`,o=>{xi(o)?a(o.error):r(o.result)});try{await this.connection.send(e,n)}catch(o){a(o)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Ws(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",()=>this.events.emit("disconnect")),this.connection.on("error",e=>this.events.emit("error",e)),this.hasRegisteredEventListeners=!0)}}var wn={exports:{}};(function(t,e){var n=function(){function a(){this.fetch=!1,this.DOMException=globalThis.DOMException}return a.prototype=globalThis,new a}();(function(a){(function(o){var u={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function g(c){return c&&DataView.prototype.isPrototypeOf(c)}if(u.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=ArrayBuffer.isView||function(c){return c&&m.indexOf(Object.prototype.toString.call(c))>-1};function _(c){if(typeof c!="string"&&(c=String(c)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(c))throw new TypeError("Invalid character in header field name");return c.toLowerCase()}function C(c){return typeof c!="string"&&(c=String(c)),c}function A(c){var f={next:function(){var d=c.shift();return{done:d===void 0,value:d}}};return u.iterable&&(f[Symbol.iterator]=function(){return f}),f}function T(c){this.map={},c instanceof T?c.forEach(function(f,d){this.append(d,f)},this):Array.isArray(c)?c.forEach(function(f){this.append(f[0],f[1])},this):c&&Object.getOwnPropertyNames(c).forEach(function(f){this.append(f,c[f])},this)}T.prototype.append=function(c,f){c=_(c),f=C(f);var d=this.map[c];this.map[c]=d?d+", "+f:f},T.prototype.delete=function(c){delete this.map[_(c)]},T.prototype.get=function(c){return c=_(c),this.has(c)?this.map[c]:null},T.prototype.has=function(c){return this.map.hasOwnProperty(_(c))},T.prototype.set=function(c,f){this.map[_(c)]=C(f)},T.prototype.forEach=function(c,f){for(var d in this.map)this.map.hasOwnProperty(d)&&c.call(f,this.map[d],d,this)},T.prototype.keys=function(){var c=[];return this.forEach(function(f,d){c.push(d)}),A(c)},T.prototype.values=function(){var c=[];return this.forEach(function(f){c.push(f)}),A(c)},T.prototype.entries=function(){var c=[];return this.forEach(function(f,d){c.push([d,f])}),A(c)},u.iterable&&(T.prototype[Symbol.iterator]=T.prototype.entries);function k(c){if(c.bodyUsed)return Promise.reject(new TypeError("Already read"));c.bodyUsed=!0}function I(c){return new Promise(function(f,d){c.onload=function(){f(c.result)},c.onerror=function(){d(c.error)}})}function w(c){var f=new FileReader,d=I(f);return f.readAsArrayBuffer(c),d}function E(c){var f=new FileReader,d=I(f);return f.readAsText(c),d}function S(c){for(var f=new Uint8Array(c),d=new Array(f.length),y=0;y<f.length;y++)d[y]=String.fromCharCode(f[y]);return d.join("")}function x(c){if(c.slice)return c.slice(0);var f=new Uint8Array(c.byteLength);return f.set(new Uint8Array(c)),f.buffer}function R(){return this.bodyUsed=!1,this._initBody=function(c){this._bodyInit=c,c?typeof c=="string"?this._bodyText=c:u.blob&&Blob.prototype.isPrototypeOf(c)?this._bodyBlob=c:u.formData&&FormData.prototype.isPrototypeOf(c)?this._bodyFormData=c:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(c)?this._bodyText=c.toString():u.arrayBuffer&&u.blob&&g(c)?(this._bodyArrayBuffer=x(c.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(c)||b(c))?this._bodyArrayBuffer=x(c):this._bodyText=c=Object.prototype.toString.call(c):this._bodyText="",this.headers.get("content-type")||(typeof c=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(c)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var c=k(this);if(c)return c;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?k(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(w)}),this.text=function(){var c=k(this);if(c)return c;if(this._bodyBlob)return E(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function L(c){var f=c.toUpperCase();return N.indexOf(f)>-1?f:c}function D(c,f){f=f||{};var d=f.body;if(c instanceof D){if(c.bodyUsed)throw new TypeError("Already read");this.url=c.url,this.credentials=c.credentials,f.headers||(this.headers=new T(c.headers)),this.method=c.method,this.mode=c.mode,this.signal=c.signal,!d&&c._bodyInit!=null&&(d=c._bodyInit,c.bodyUsed=!0)}else this.url=String(c);if(this.credentials=f.credentials||this.credentials||"same-origin",(f.headers||!this.headers)&&(this.headers=new T(f.headers)),this.method=L(f.method||this.method||"GET"),this.mode=f.mode||this.mode||null,this.signal=f.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&d)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(d)}D.prototype.clone=function(){return new D(this,{body:this._bodyInit})};function F(c){var f=new FormData;return c.trim().split("&").forEach(function(d){if(d){var y=d.split("="),M=y.shift().replace(/\+/g," "),h=y.join("=").replace(/\+/g," ");f.append(decodeURIComponent(M),decodeURIComponent(h))}}),f}function V(c){var f=new T,d=c.replace(/\r?\n[\t ]+/g," ");return d.split(/\r?\n/).forEach(function(y){var M=y.split(":"),h=M.shift().trim();if(h){var s=M.join(":").trim();f.append(h,s)}}),f}R.call(D.prototype);function v(c,f){f||(f={}),this.type="default",this.status=f.status===void 0?200:f.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in f?f.statusText:"OK",this.headers=new T(f.headers),this.url=f.url||"",this._initBody(c)}R.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new T(this.headers),url:this.url})},v.error=function(){var c=new v(null,{status:0,statusText:""});return c.type="error",c};var i=[301,302,303,307,308];v.redirect=function(c,f){if(i.indexOf(f)===-1)throw new RangeError("Invalid status code");return new v(null,{status:f,headers:{location:c}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(f,d){this.message=f,this.name=d;var y=Error(f);this.stack=y.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function l(c,f){return new Promise(function(d,y){var M=new D(c,f);if(M.signal&&M.signal.aborted)return y(new o.DOMException("Aborted","AbortError"));var h=new XMLHttpRequest;function s(){h.abort()}h.onload=function(){var p={status:h.status,statusText:h.statusText,headers:V(h.getAllResponseHeaders()||"")};p.url="responseURL"in h?h.responseURL:p.headers.get("X-Request-URL");var B="response"in h?h.response:h.responseText;d(new v(B,p))},h.onerror=function(){y(new TypeError("Network request failed"))},h.ontimeout=function(){y(new TypeError("Network request failed"))},h.onabort=function(){y(new o.DOMException("Aborted","AbortError"))},h.open(M.method,M.url,!0),M.credentials==="include"?h.withCredentials=!0:M.credentials==="omit"&&(h.withCredentials=!1),"responseType"in h&&u.blob&&(h.responseType="blob"),M.headers.forEach(function(p,B){h.setRequestHeader(B,p)}),M.signal&&(M.signal.addEventListener("abort",s),h.onreadystatechange=function(){h.readyState===4&&M.signal.removeEventListener("abort",s)}),h.send(typeof M._bodyInit>"u"?null:M._bodyInit)})}return l.polyfill=!0,a.fetch||(a.fetch=l,a.Headers=T,a.Request=D,a.Response=v),o.Headers=T,o.Request=D,o.Response=v,o.fetch=l,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var r=n;e=r.fetch,e.default=r.fetch,e.fetch=r.fetch,e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response,t.exports=e})(wn,wn.exports);const kr=ws(wn.exports);function Si(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}function bn(t){return typeof t=="string"?t:JSON.stringify(t)}const js={Accept:"application/json","Content-Type":"application/json"},Js="POST",Ar={headers:js,method:Js},Ir=10;class Vs{constructor(e){if(this.url=e,this.events=new di.exports.EventEmitter,this.isAvailable=!1,this.registering=!1,!Rr(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,n){this.isAvailable||await this.register();try{const r=bn(e),o=await(await kr(this.url,Object.assign(Object.assign({},Ar),{body:r}))).json();this.onPayload({data:o})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!Rr(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,a)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),a(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return a(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{const n=bn({id:1,jsonrpc:"2.0",method:"test",params:[]});await kr(e,Object.assign(Object.assign({},Ar),{body:n})),this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Si(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),a=r.message||r.toString(),o=yn(e,a);this.events.emit("payload",o)}parseError(e,n=this.url){return Is(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Ir&&this.events.setMaxListeners(Ir)}}var Dn={},J={};Object.defineProperty(J,"__esModule",{value:!0});var Ci=J.getLocalStorage=Ui=J.getLocalStorageOrThrow=Pi=J.getCrypto=Li=J.getCryptoOrThrow=Bi=J.getLocation=Ni=J.getLocationOrThrow=Oi=J.getNavigator=Ii=J.getNavigatorOrThrow=Ai=J.getDocument=ki=J.getDocumentOrThrow=Ti=J.getFromWindowOrThrow=Ri=J.getFromWindow=void 0;function Ve(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}var Ri=J.getFromWindow=Ve;function st(t){const e=Ve(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}var Ti=J.getFromWindowOrThrow=st;function Ks(){return st("document")}var ki=J.getDocumentOrThrow=Ks;function Qs(){return Ve("document")}var Ai=J.getDocument=Qs;function Ys(){return st("navigator")}var Ii=J.getNavigatorOrThrow=Ys;function Gs(){return Ve("navigator")}var Oi=J.getNavigator=Gs;function Zs(){return st("location")}var Ni=J.getLocationOrThrow=Zs;function Xs(){return Ve("location")}var Bi=J.getLocation=Xs;function ea(){return st("crypto")}var Li=J.getCryptoOrThrow=ea;function ta(){return Ve("crypto")}var Pi=J.getCrypto=ta;function na(){return st("localStorage")}var Ui=J.getLocalStorageOrThrow=na;function ra(){return Ve("localStorage")}Ci=J.getLocalStorage=ra;Object.defineProperty(Dn,"__esModule",{value:!0});var Di=Dn.getWindowMetadata=void 0;const Or=J;function ia(){let t,e;try{t=Or.getDocumentOrThrow(),e=Or.getLocationOrThrow()}catch{return null}function n(){const C=t.getElementsByTagName("link"),A=[];for(let T=0;T<C.length;T++){const k=C[T],I=k.getAttribute("rel");if(I&&I.toLowerCase().indexOf("icon")>-1){const w=k.getAttribute("href");if(w)if(w.toLowerCase().indexOf("https:")===-1&&w.toLowerCase().indexOf("http:")===-1&&w.indexOf("//")!==0){let E=e.protocol+"//"+e.host;if(w.indexOf("/")===0)E+=w;else{const S=e.pathname.split("/");S.pop(),E+=S.join("/")+"/"+w}A.push(E)}else if(w.indexOf("//")===0){const E=e.protocol+w;A.push(E)}else A.push(w)}}return A}function r(...C){const A=t.getElementsByTagName("meta");for(let T=0;T<A.length;T++){const k=A[T],I=["itemprop","property","name"].map(w=>k.getAttribute(w)).filter(w=>w?C.includes(w):!1);if(I.length&&I){const w=k.getAttribute("content");if(w)return w}}return""}function a(){let C=r("name","og:site_name","og:title","twitter:title");return C||(C=t.title),C}function o(){return r("description","og:description","twitter:description","keywords")}const u=a(),g=o(),m=e.origin,b=n();return{description:g,url:m,icons:b,name:u}}Di=Dn.getWindowMetadata=ia;var oa=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var o=arguments[e],u=0,g=o.length;u<g;u++,a++)r[a]=o[u];return r},sa=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),aa=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),ca=function(){function t(e,n,r,a){this.name=e,this.version=n,this.os=r,this.bot=a,this.type="bot-device"}return t}(),la=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),fa=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),ua=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,ha=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Nr=3,da=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",ua]],Br=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function pa(t){return t?Lr(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new fa:typeof navigator<"u"?Lr(navigator.userAgent):ma()}function ga(t){return t!==""&&da.reduce(function(e,n){var r=n[0],a=n[1];if(e)return e;var o=a.exec(t);return!!o&&[r,o]},!1)}function Lr(t){var e=ga(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new la;var a=r[1]&&r[1].split(/[._]/).slice(0,3);a?a.length<Nr&&(a=oa(a,_a(Nr-a.length))):a=[];var o=a.join("."),u=va(t),g=ha.exec(t);return g&&g[1]?new ca(n,o,u,g[1]):new sa(n,o,u)}function va(t){for(var e=0,n=Br.length;e<n;e++){var r=Br[e],a=r[0],o=r[1],u=o.exec(t);if(u)return a}return null}function ma(){var t=typeof process<"u"&&process.version;return t?new aa(process.version.slice(1)):null}function _a(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}function Ot(t){return pa(t)}function Nt(){const t=Ot();return t&&t.os?t.os:void 0}function qi(){const t=Nt();return t?t.toLowerCase().includes("android"):!1}function Fi(){const t=Nt();return t?t.toLowerCase().includes("ios")||t.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function $i(){return Nt()?qi()||Fi():!1}function Hi(){const t=Ot();return t&&t.name?t.name.toLowerCase()==="node":!1}function Wi(){return!Hi()&&!!zi()}const ya=Ri,wa=Ti,ba=ki,Ma=Ai,Ea=Ii,zi=Oi,xa=Ni,ji=Bi,Sa=Li,Ca=Pi,Ra=Ui,Bt=Ci;function Mn(){return Di()}const Ji=Si,Vi=bn;function qn(t,e){const n=Vi(e),r=Bt();r&&r.setItem(t,n)}function Fn(t){let e=null,n=null;const r=Bt();return r&&(n=r.getItem(t)),e=n&&Ji(n),e}function $n(t){const e=Bt();e&&e.removeItem(t)}const St="WALLETCONNECT_DEEPLINK_CHOICE";function Ta(t,e){const n=encodeURIComponent(t);return e.universalLink?`${e.universalLink}/wc?uri=${n}`:e.deepLink?`${e.deepLink}${e.deepLink.endsWith(":")?"//":"/"}wc?uri=${n}`:""}function ka(t){const e=t.href.split("?")[0];qn(St,Object.assign(Object.assign({},t),{href:e}))}function Ki(t,e){return t.filter(n=>n.name.toLowerCase().includes(e.toLowerCase()))[0]}function Aa(t,e){let n=t;return e&&(n=e.map(r=>Ki(t,r)).filter(Boolean)),n}const Qi="https://registry.walletconnect.com";function Ia(){return Qi+"/api/v2/wallets"}function Oa(){return Qi+"/api/v2/dapps"}function Yi(t,e="mobile"){var n;return{name:t.name||"",shortName:t.metadata.shortName||"",color:t.metadata.colors.primary||"",logo:(n=t.image_url.sm)!==null&&n!==void 0?n:"",universalLink:t[e].universal||"",deepLink:t[e].native||""}}function Na(t,e="mobile"){return Object.values(t).filter(n=>!!n[e].universal||!!n[e].native).map(n=>Yi(n,e))}const Ba=Object.freeze(Object.defineProperty({__proto__:null,detectEnv:Ot,detectOS:Nt,isAndroid:qi,isIOS:Fi,isMobile:$i,isNode:Hi,isBrowser:Wi,getFromWindow:ya,getFromWindowOrThrow:wa,getDocumentOrThrow:ba,getDocument:Ma,getNavigatorOrThrow:Ea,getNavigator:zi,getLocationOrThrow:xa,getLocation:ji,getCryptoOrThrow:Sa,getCrypto:Ca,getLocalStorageOrThrow:Ra,getLocalStorage:Bt,getClientMeta:Mn,safeJsonParse:Ji,safeJsonStringify:Vi,setLocal:qn,getLocal:Fn,removeLocal:$n,mobileLinkChoiceKey:St,formatIOSMobile:Ta,saveMobileLinkInfo:ka,getMobileRegistryEntry:Ki,getMobileLinkRegistry:Aa,getWalletRegistryUrl:Ia,getDappRegistryUrl:Oa,formatMobileRegistryEntry:Yi,formatMobileRegistry:Na},Symbol.toStringTag,{value:"Module"})),La=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],Hn=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],Pa={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var Gi={exports:{}};(function(t){(function(e,n){function r(v,i){if(!v)throw new Error(i||"Assertion failed")}function a(v,i){v.super_=i;var l=function(){};l.prototype=i.prototype,v.prototype=new l,v.prototype.constructor=v}function o(v,i,l){if(o.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((i==="le"||i==="be")&&(l=i,i=10),this._init(v||0,i||10,l||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var u;try{u=bs.Buffer}catch{}o.isBN=function(i){return i instanceof o?!0:i!==null&&typeof i=="object"&&i.constructor.wordSize===o.wordSize&&Array.isArray(i.words)},o.max=function(i,l){return i.cmp(l)>0?i:l},o.min=function(i,l){return i.cmp(l)<0?i:l},o.prototype._init=function(i,l,c){if(typeof i=="number")return this._initNumber(i,l,c);if(typeof i=="object")return this._initArray(i,l,c);l==="hex"&&(l=16),r(l===(l|0)&&l>=2&&l<=36),i=i.toString().replace(/\s+/g,"");var f=0;i[0]==="-"&&f++,l===16?this._parseHex(i,f):this._parseBase(i,l,f),i[0]==="-"&&(this.negative=1),this.strip(),c==="le"&&this._initArray(this.toArray(),l,c)},o.prototype._initNumber=function(i,l,c){i<0&&(this.negative=1,i=-i),i<67108864?(this.words=[i&67108863],this.length=1):i<4503599627370496?(this.words=[i&67108863,i/67108864&67108863],this.length=2):(r(i<9007199254740992),this.words=[i&67108863,i/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),l,c)},o.prototype._initArray=function(i,l,c){if(r(typeof i.length=="number"),i.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(i.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var d,y,M=0;if(c==="be")for(f=i.length-1,d=0;f>=0;f-=3)y=i[f]|i[f-1]<<8|i[f-2]<<16,this.words[d]|=y<<M&67108863,this.words[d+1]=y>>>26-M&67108863,M+=24,M>=26&&(M-=26,d++);else if(c==="le")for(f=0,d=0;f<i.length;f+=3)y=i[f]|i[f+1]<<8|i[f+2]<<16,this.words[d]|=y<<M&67108863,this.words[d+1]=y>>>26-M&67108863,M+=24,M>=26&&(M-=26,d++);return this.strip()};function g(v,i,l){for(var c=0,f=Math.min(v.length,l),d=i;d<f;d++){var y=v.charCodeAt(d)-48;c<<=4,y>=49&&y<=54?c|=y-49+10:y>=17&&y<=22?c|=y-17+10:c|=y&15}return c}o.prototype._parseHex=function(i,l){this.length=Math.ceil((i.length-l)/6),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var f,d,y=0;for(c=i.length-6,f=0;c>=l;c-=6)d=g(i,c,c+6),this.words[f]|=d<<y&67108863,this.words[f+1]|=d>>>26-y&4194303,y+=24,y>=26&&(y-=26,f++);c+6!==l&&(d=g(i,l,c+6),this.words[f]|=d<<y&67108863,this.words[f+1]|=d>>>26-y&4194303),this.strip()};function m(v,i,l,c){for(var f=0,d=Math.min(v.length,l),y=i;y<d;y++){var M=v.charCodeAt(y)-48;f*=c,M>=49?f+=M-49+10:M>=17?f+=M-17+10:f+=M}return f}o.prototype._parseBase=function(i,l,c){this.words=[0],this.length=1;for(var f=0,d=1;d<=67108863;d*=l)f++;f--,d=d/l|0;for(var y=i.length-c,M=y%f,h=Math.min(y,y-M)+c,s=0,p=c;p<h;p+=f)s=m(i,p,p+f,l),this.imuln(d),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(M!==0){var B=1;for(s=m(i,p,i.length,l),p=0;p<M;p++)B*=l;this.imuln(B),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}},o.prototype.copy=function(i){i.words=new Array(this.length);for(var l=0;l<this.length;l++)i.words[l]=this.words[l];i.length=this.length,i.negative=this.negative,i.red=this.red},o.prototype.clone=function(){var i=new o(null);return this.copy(i),i},o.prototype._expand=function(i){for(;this.length<i;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(i,l){i=i||10,l=l|0||1;var c;if(i===16||i==="hex"){c="";for(var f=0,d=0,y=0;y<this.length;y++){var M=this.words[y],h=((M<<f|d)&16777215).toString(16);d=M>>>24-f&16777215,d!==0||y!==this.length-1?c=b[6-h.length]+h+c:c=h+c,f+=2,f>=26&&(f-=26,y--)}for(d!==0&&(c=d.toString(16)+c);c.length%l!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(i===(i|0)&&i>=2&&i<=36){var s=_[i],p=C[i];c="";var B=this.clone();for(B.negative=0;!B.isZero();){var P=B.modn(p).toString(i);B=B.idivn(p),B.isZero()?c=P+c:c=b[s-P.length]+P+c}for(this.isZero()&&(c="0"+c);c.length%l!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var i=this.words[0];return this.length===2?i+=this.words[1]*67108864:this.length===3&&this.words[2]===1?i+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-i:i},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(i,l){return r(typeof u<"u"),this.toArrayLike(u,i,l)},o.prototype.toArray=function(i,l){return this.toArrayLike(Array,i,l)},o.prototype.toArrayLike=function(i,l,c){var f=this.byteLength(),d=c||Math.max(1,f);r(f<=d,"byte array longer than desired length"),r(d>0,"Requested array length <= 0"),this.strip();var y=l==="le",M=new i(d),h,s,p=this.clone();if(y){for(s=0;!p.isZero();s++)h=p.andln(255),p.iushrn(8),M[s]=h;for(;s<d;s++)M[s]=0}else{for(s=0;s<d-f;s++)M[s]=0;for(s=0;!p.isZero();s++)h=p.andln(255),p.iushrn(8),M[d-s-1]=h}return M},Math.clz32?o.prototype._countBits=function(i){return 32-Math.clz32(i)}:o.prototype._countBits=function(i){var l=i,c=0;return l>=4096&&(c+=13,l>>>=13),l>=64&&(c+=7,l>>>=7),l>=8&&(c+=4,l>>>=4),l>=2&&(c+=2,l>>>=2),c+l},o.prototype._zeroBits=function(i){if(i===0)return 26;var l=i,c=0;return(l&8191)===0&&(c+=13,l>>>=13),(l&127)===0&&(c+=7,l>>>=7),(l&15)===0&&(c+=4,l>>>=4),(l&3)===0&&(c+=2,l>>>=2),(l&1)===0&&c++,c},o.prototype.bitLength=function(){var i=this.words[this.length-1],l=this._countBits(i);return(this.length-1)*26+l};function A(v){for(var i=new Array(v.bitLength()),l=0;l<i.length;l++){var c=l/26|0,f=l%26;i[l]=(v.words[c]&1<<f)>>>f}return i}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var i=0,l=0;l<this.length;l++){var c=this._zeroBits(this.words[l]);if(i+=c,c!==26)break}return i},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(i){return this.negative!==0?this.abs().inotn(i).iaddn(1):this.clone()},o.prototype.fromTwos=function(i){return this.testn(i-1)?this.notn(i).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(i){for(;this.length<i.length;)this.words[this.length++]=0;for(var l=0;l<i.length;l++)this.words[l]=this.words[l]|i.words[l];return this.strip()},o.prototype.ior=function(i){return r((this.negative|i.negative)===0),this.iuor(i)},o.prototype.or=function(i){return this.length>i.length?this.clone().ior(i):i.clone().ior(this)},o.prototype.uor=function(i){return this.length>i.length?this.clone().iuor(i):i.clone().iuor(this)},o.prototype.iuand=function(i){var l;this.length>i.length?l=i:l=this;for(var c=0;c<l.length;c++)this.words[c]=this.words[c]&i.words[c];return this.length=l.length,this.strip()},o.prototype.iand=function(i){return r((this.negative|i.negative)===0),this.iuand(i)},o.prototype.and=function(i){return this.length>i.length?this.clone().iand(i):i.clone().iand(this)},o.prototype.uand=function(i){return this.length>i.length?this.clone().iuand(i):i.clone().iuand(this)},o.prototype.iuxor=function(i){var l,c;this.length>i.length?(l=this,c=i):(l=i,c=this);for(var f=0;f<c.length;f++)this.words[f]=l.words[f]^c.words[f];if(this!==l)for(;f<l.length;f++)this.words[f]=l.words[f];return this.length=l.length,this.strip()},o.prototype.ixor=function(i){return r((this.negative|i.negative)===0),this.iuxor(i)},o.prototype.xor=function(i){return this.length>i.length?this.clone().ixor(i):i.clone().ixor(this)},o.prototype.uxor=function(i){return this.length>i.length?this.clone().iuxor(i):i.clone().iuxor(this)},o.prototype.inotn=function(i){r(typeof i=="number"&&i>=0);var l=Math.ceil(i/26)|0,c=i%26;this._expand(l),c>0&&l--;for(var f=0;f<l;f++)this.words[f]=~this.words[f]&67108863;return c>0&&(this.words[f]=~this.words[f]&67108863>>26-c),this.strip()},o.prototype.notn=function(i){return this.clone().inotn(i)},o.prototype.setn=function(i,l){r(typeof i=="number"&&i>=0);var c=i/26|0,f=i%26;return this._expand(c+1),l?this.words[c]=this.words[c]|1<<f:this.words[c]=this.words[c]&~(1<<f),this.strip()},o.prototype.iadd=function(i){var l;if(this.negative!==0&&i.negative===0)return this.negative=0,l=this.isub(i),this.negative^=1,this._normSign();if(this.negative===0&&i.negative!==0)return i.negative=0,l=this.isub(i),i.negative=1,l._normSign();var c,f;this.length>i.length?(c=this,f=i):(c=i,f=this);for(var d=0,y=0;y<f.length;y++)l=(c.words[y]|0)+(f.words[y]|0)+d,this.words[y]=l&67108863,d=l>>>26;for(;d!==0&&y<c.length;y++)l=(c.words[y]|0)+d,this.words[y]=l&67108863,d=l>>>26;if(this.length=c.length,d!==0)this.words[this.length]=d,this.length++;else if(c!==this)for(;y<c.length;y++)this.words[y]=c.words[y];return this},o.prototype.add=function(i){var l;return i.negative!==0&&this.negative===0?(i.negative=0,l=this.sub(i),i.negative^=1,l):i.negative===0&&this.negative!==0?(this.negative=0,l=i.sub(this),this.negative=1,l):this.length>i.length?this.clone().iadd(i):i.clone().iadd(this)},o.prototype.isub=function(i){if(i.negative!==0){i.negative=0;var l=this.iadd(i);return i.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(i),this.negative=1,this._normSign();var c=this.cmp(i);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var f,d;c>0?(f=this,d=i):(f=i,d=this);for(var y=0,M=0;M<d.length;M++)l=(f.words[M]|0)-(d.words[M]|0)+y,y=l>>26,this.words[M]=l&67108863;for(;y!==0&&M<f.length;M++)l=(f.words[M]|0)+y,y=l>>26,this.words[M]=l&67108863;if(y===0&&M<f.length&&f!==this)for(;M<f.length;M++)this.words[M]=f.words[M];return this.length=Math.max(this.length,M),f!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(i){return this.clone().isub(i)};function T(v,i,l){l.negative=i.negative^v.negative;var c=v.length+i.length|0;l.length=c,c=c-1|0;var f=v.words[0]|0,d=i.words[0]|0,y=f*d,M=y&67108863,h=y/67108864|0;l.words[0]=M;for(var s=1;s<c;s++){for(var p=h>>>26,B=h&67108863,P=Math.min(s,i.length-1),U=Math.max(0,s-v.length+1);U<=P;U++){var $=s-U|0;f=v.words[$]|0,d=i.words[U]|0,y=f*d+B,p+=y/67108864|0,B=y&67108863}l.words[s]=B|0,h=p|0}return h!==0?l.words[s]=h|0:l.length--,l.strip()}var k=function(i,l,c){var f=i.words,d=l.words,y=c.words,M=0,h,s,p,B=f[0]|0,P=B&8191,U=B>>>13,$=f[1]|0,W=$&8191,z=$>>>13,Ue=f[2]|0,j=Ue&8191,K=Ue>>>13,lr=f[3]|0,Q=lr&8191,Y=lr>>>13,fr=f[4]|0,G=fr&8191,Z=fr>>>13,ur=f[5]|0,X=ur&8191,ee=ur>>>13,hr=f[6]|0,te=hr&8191,ne=hr>>>13,dr=f[7]|0,re=dr&8191,ie=dr>>>13,pr=f[8]|0,oe=pr&8191,se=pr>>>13,gr=f[9]|0,ae=gr&8191,ce=gr>>>13,vr=d[0]|0,le=vr&8191,fe=vr>>>13,mr=d[1]|0,ue=mr&8191,he=mr>>>13,_r=d[2]|0,de=_r&8191,pe=_r>>>13,yr=d[3]|0,ge=yr&8191,ve=yr>>>13,wr=d[4]|0,me=wr&8191,_e=wr>>>13,br=d[5]|0,ye=br&8191,we=br>>>13,Mr=d[6]|0,be=Mr&8191,Me=Mr>>>13,Er=d[7]|0,Ee=Er&8191,xe=Er>>>13,xr=d[8]|0,Se=xr&8191,Ce=xr>>>13,Sr=d[9]|0,Re=Sr&8191,Te=Sr>>>13;c.negative=i.negative^l.negative,c.length=19,h=Math.imul(P,le),s=Math.imul(P,fe),s=s+Math.imul(U,le)|0,p=Math.imul(U,fe);var Wt=(M+h|0)+((s&8191)<<13)|0;M=(p+(s>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,h=Math.imul(W,le),s=Math.imul(W,fe),s=s+Math.imul(z,le)|0,p=Math.imul(z,fe),h=h+Math.imul(P,ue)|0,s=s+Math.imul(P,he)|0,s=s+Math.imul(U,ue)|0,p=p+Math.imul(U,he)|0;var zt=(M+h|0)+((s&8191)<<13)|0;M=(p+(s>>>13)|0)+(zt>>>26)|0,zt&=67108863,h=Math.imul(j,le),s=Math.imul(j,fe),s=s+Math.imul(K,le)|0,p=Math.imul(K,fe),h=h+Math.imul(W,ue)|0,s=s+Math.imul(W,he)|0,s=s+Math.imul(z,ue)|0,p=p+Math.imul(z,he)|0,h=h+Math.imul(P,de)|0,s=s+Math.imul(P,pe)|0,s=s+Math.imul(U,de)|0,p=p+Math.imul(U,pe)|0;var jt=(M+h|0)+((s&8191)<<13)|0;M=(p+(s>>>13)|0)+(jt>>>26)|0,jt&=67108863,h=Math.imul(Q,le),s=Math.imul(Q,fe),s=s+Math.imul(Y,le)|0,p=Math.imul(Y,fe),h=h+Math.imul(j,ue)|0,s=s+Math.imul(j,he)|0,s=s+Math.imul(K,ue)|0,p=p+Math.imul(K,he)|0,h=h+Math.imul(W,de)|0,s=s+Math.imul(W,pe)|0,s=s+Math.imul(z,de)|0,p=p+Math.imul(z,pe)|0,h=h+Math.imul(P,ge)|0,s=s+Math.imul(P,ve)|0,s=s+Math.imul(U,ge)|0,p=p+Math.imul(U,ve)|0;var Jt=(M+h|0)+((s&8191)<<13)|0;M=(p+(s>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,h=Math.imul(G,le),s=Math.imul(G,fe),s=s+Math.imul(Z,le)|0,p=Math.imul(Z,fe),h=h+Math.imul(Q,ue)|0,s=s+Math.imul(Q,he)|0,s=s+Math.imul(Y,ue)|0,p=p+Math.imul(Y,he)|0,h=h+Math.imul(j,de)|0,s=s+Math.imul(j,pe)|0,s=s+Math.imul(K,de)|0,p=p+Math.imul(K,pe)|0,h=h+Math.imul(W,ge)|0,s=s+Math.imul(W,ve)|0,s=s+Math.imul(z,ge)|0,p=p+Math.imul(z,ve)|0,h=h+Math.imul(P,me)|0,s=s+Math.imul(P,_e)|0,s=s+Math.imul(U,me)|0,p=p+Math.imul(U,_e)|0;var Vt=(M+h|0)+((s&8191)<<13)|0;M=(p+(s>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,h=Math.imul(X,le),s=Math.imul(X,fe),s=s+Math.imul(ee,le)|0,p=Math.imul(ee,fe),h=h+Math.imul(G,ue)|0,s=s+Math.imul(G,he)|0,s=s+Math.imul(Z,ue)|0,p=p+Math.imul(Z,he)|0,h=h+Math.imul(Q,de)|0,s=s+Math.imul(Q,pe)|0,s=s+Math.imul(Y,de)|0,p=p+Math.imul(Y,pe)|0,h=h+Math.imul(j,ge)|0,s=s+Math.imul(j,ve)|0,s=s+Math.imul(K,ge)|0,p=p+Math.imul(K,ve)|0,h=h+Math.imul(W,me)|0,s=s+Math.imul(W,_e)|0,s=s+Math.imul(z,me)|0,p=p+Math.imul(z,_e)|0,h=h+Math.imul(P,ye)|0,s=s+Math.imul(P,we)|0,s=s+Math.imul(U,ye)|0,p=p+Math.imul(U,we)|0;var Kt=(M+h|0)+((s&8191)<<13)|0;M=(p+(s>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,h=Math.imul(te,le),s=Math.imul(te,fe),s=s+Math.imul(ne,le)|0,p=Math.imul(ne,fe),h=h+Math.imul(X,ue)|0,s=s+Math.imul(X,he)|0,s=s+Math.imul(ee,ue)|0,p=p+Math.imul(ee,he)|0,h=h+Math.imul(G,de)|0,s=s+Math.imul(G,pe)|0,s=s+Math.imul(Z,de)|0,p=p+Math.imul(Z,pe)|0,h=h+Math.imul(Q,ge)|0,s=s+Math.imul(Q,ve)|0,s=s+Math.imul(Y,ge)|0,p=p+Math.imul(Y,ve)|0,h=h+Math.imul(j,me)|0,s=s+Math.imul(j,_e)|0,s=s+Math.imul(K,me)|0,p=p+Math.imul(K,_e)|0,h=h+Math.imul(W,ye)|0,s=s+Math.imul(W,we)|0,s=s+Math.imul(z,ye)|0,p=p+Math.imul(z,we)|0,h=h+Math.imul(P,be)|0,s=s+Math.imul(P,Me)|0,s=s+Math.imul(U,be)|0,p=p+Math.imul(U,Me)|0;var Qt=(M+h|0)+((s&8191)<<13)|0;M=(p+(s>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,h=Math.imul(re,le),s=Math.imul(re,fe),s=s+Math.imul(ie,le)|0,p=Math.imul(ie,fe),h=h+Math.imul(te,ue)|0,s=s+Math.imul(te,he)|0,s=s+Math.imul(ne,ue)|0,p=p+Math.imul(ne,he)|0,h=h+Math.imul(X,de)|0,s=s+Math.imul(X,pe)|0,s=s+Math.imul(ee,de)|0,p=p+Math.imul(ee,pe)|0,h=h+Math.imul(G,ge)|0,s=s+Math.imul(G,ve)|0,s=s+Math.imul(Z,ge)|0,p=p+Math.imul(Z,ve)|0,h=h+Math.imul(Q,me)|0,s=s+Math.imul(Q,_e)|0,s=s+Math.imul(Y,me)|0,p=p+Math.imul(Y,_e)|0,h=h+Math.imul(j,ye)|0,s=s+Math.imul(j,we)|0,s=s+Math.imul(K,ye)|0,p=p+Math.imul(K,we)|0,h=h+Math.imul(W,be)|0,s=s+Math.imul(W,Me)|0,s=s+Math.imul(z,be)|0,p=p+Math.imul(z,Me)|0,h=h+Math.imul(P,Ee)|0,s=s+Math.imul(P,xe)|0,s=s+Math.imul(U,Ee)|0,p=p+Math.imul(U,xe)|0;var Yt=(M+h|0)+((s&8191)<<13)|0;M=(p+(s>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,h=Math.imul(oe,le),s=Math.imul(oe,fe),s=s+Math.imul(se,le)|0,p=Math.imul(se,fe),h=h+Math.imul(re,ue)|0,s=s+Math.imul(re,he)|0,s=s+Math.imul(ie,ue)|0,p=p+Math.imul(ie,he)|0,h=h+Math.imul(te,de)|0,s=s+Math.imul(te,pe)|0,s=s+Math.imul(ne,de)|0,p=p+Math.imul(ne,pe)|0,h=h+Math.imul(X,ge)|0,s=s+Math.imul(X,ve)|0,s=s+Math.imul(ee,ge)|0,p=p+Math.imul(ee,ve)|0,h=h+Math.imul(G,me)|0,s=s+Math.imul(G,_e)|0,s=s+Math.imul(Z,me)|0,p=p+Math.imul(Z,_e)|0,h=h+Math.imul(Q,ye)|0,s=s+Math.imul(Q,we)|0,s=s+Math.imul(Y,ye)|0,p=p+Math.imul(Y,we)|0,h=h+Math.imul(j,be)|0,s=s+Math.imul(j,Me)|0,s=s+Math.imul(K,be)|0,p=p+Math.imul(K,Me)|0,h=h+Math.imul(W,Ee)|0,s=s+Math.imul(W,xe)|0,s=s+Math.imul(z,Ee)|0,p=p+Math.imul(z,xe)|0,h=h+Math.imul(P,Se)|0,s=s+Math.imul(P,Ce)|0,s=s+Math.imul(U,Se)|0,p=p+Math.imul(U,Ce)|0;var Gt=(M+h|0)+((s&8191)<<13)|0;M=(p+(s>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,h=Math.imul(ae,le),s=Math.imul(ae,fe),s=s+Math.imul(ce,le)|0,p=Math.imul(ce,fe),h=h+Math.imul(oe,ue)|0,s=s+Math.imul(oe,he)|0,s=s+Math.imul(se,ue)|0,p=p+Math.imul(se,he)|0,h=h+Math.imul(re,de)|0,s=s+Math.imul(re,pe)|0,s=s+Math.imul(ie,de)|0,p=p+Math.imul(ie,pe)|0,h=h+Math.imul(te,ge)|0,s=s+Math.imul(te,ve)|0,s=s+Math.imul(ne,ge)|0,p=p+Math.imul(ne,ve)|0,h=h+Math.imul(X,me)|0,s=s+Math.imul(X,_e)|0,s=s+Math.imul(ee,me)|0,p=p+Math.imul(ee,_e)|0,h=h+Math.imul(G,ye)|0,s=s+Math.imul(G,we)|0,s=s+Math.imul(Z,ye)|0,p=p+Math.imul(Z,we)|0,h=h+Math.imul(Q,be)|0,s=s+Math.imul(Q,Me)|0,s=s+Math.imul(Y,be)|0,p=p+Math.imul(Y,Me)|0,h=h+Math.imul(j,Ee)|0,s=s+Math.imul(j,xe)|0,s=s+Math.imul(K,Ee)|0,p=p+Math.imul(K,xe)|0,h=h+Math.imul(W,Se)|0,s=s+Math.imul(W,Ce)|0,s=s+Math.imul(z,Se)|0,p=p+Math.imul(z,Ce)|0,h=h+Math.imul(P,Re)|0,s=s+Math.imul(P,Te)|0,s=s+Math.imul(U,Re)|0,p=p+Math.imul(U,Te)|0;var Zt=(M+h|0)+((s&8191)<<13)|0;M=(p+(s>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,h=Math.imul(ae,ue),s=Math.imul(ae,he),s=s+Math.imul(ce,ue)|0,p=Math.imul(ce,he),h=h+Math.imul(oe,de)|0,s=s+Math.imul(oe,pe)|0,s=s+Math.imul(se,de)|0,p=p+Math.imul(se,pe)|0,h=h+Math.imul(re,ge)|0,s=s+Math.imul(re,ve)|0,s=s+Math.imul(ie,ge)|0,p=p+Math.imul(ie,ve)|0,h=h+Math.imul(te,me)|0,s=s+Math.imul(te,_e)|0,s=s+Math.imul(ne,me)|0,p=p+Math.imul(ne,_e)|0,h=h+Math.imul(X,ye)|0,s=s+Math.imul(X,we)|0,s=s+Math.imul(ee,ye)|0,p=p+Math.imul(ee,we)|0,h=h+Math.imul(G,be)|0,s=s+Math.imul(G,Me)|0,s=s+Math.imul(Z,be)|0,p=p+Math.imul(Z,Me)|0,h=h+Math.imul(Q,Ee)|0,s=s+Math.imul(Q,xe)|0,s=s+Math.imul(Y,Ee)|0,p=p+Math.imul(Y,xe)|0,h=h+Math.imul(j,Se)|0,s=s+Math.imul(j,Ce)|0,s=s+Math.imul(K,Se)|0,p=p+Math.imul(K,Ce)|0,h=h+Math.imul(W,Re)|0,s=s+Math.imul(W,Te)|0,s=s+Math.imul(z,Re)|0,p=p+Math.imul(z,Te)|0;var Xt=(M+h|0)+((s&8191)<<13)|0;M=(p+(s>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,h=Math.imul(ae,de),s=Math.imul(ae,pe),s=s+Math.imul(ce,de)|0,p=Math.imul(ce,pe),h=h+Math.imul(oe,ge)|0,s=s+Math.imul(oe,ve)|0,s=s+Math.imul(se,ge)|0,p=p+Math.imul(se,ve)|0,h=h+Math.imul(re,me)|0,s=s+Math.imul(re,_e)|0,s=s+Math.imul(ie,me)|0,p=p+Math.imul(ie,_e)|0,h=h+Math.imul(te,ye)|0,s=s+Math.imul(te,we)|0,s=s+Math.imul(ne,ye)|0,p=p+Math.imul(ne,we)|0,h=h+Math.imul(X,be)|0,s=s+Math.imul(X,Me)|0,s=s+Math.imul(ee,be)|0,p=p+Math.imul(ee,Me)|0,h=h+Math.imul(G,Ee)|0,s=s+Math.imul(G,xe)|0,s=s+Math.imul(Z,Ee)|0,p=p+Math.imul(Z,xe)|0,h=h+Math.imul(Q,Se)|0,s=s+Math.imul(Q,Ce)|0,s=s+Math.imul(Y,Se)|0,p=p+Math.imul(Y,Ce)|0,h=h+Math.imul(j,Re)|0,s=s+Math.imul(j,Te)|0,s=s+Math.imul(K,Re)|0,p=p+Math.imul(K,Te)|0;var en=(M+h|0)+((s&8191)<<13)|0;M=(p+(s>>>13)|0)+(en>>>26)|0,en&=67108863,h=Math.imul(ae,ge),s=Math.imul(ae,ve),s=s+Math.imul(ce,ge)|0,p=Math.imul(ce,ve),h=h+Math.imul(oe,me)|0,s=s+Math.imul(oe,_e)|0,s=s+Math.imul(se,me)|0,p=p+Math.imul(se,_e)|0,h=h+Math.imul(re,ye)|0,s=s+Math.imul(re,we)|0,s=s+Math.imul(ie,ye)|0,p=p+Math.imul(ie,we)|0,h=h+Math.imul(te,be)|0,s=s+Math.imul(te,Me)|0,s=s+Math.imul(ne,be)|0,p=p+Math.imul(ne,Me)|0,h=h+Math.imul(X,Ee)|0,s=s+Math.imul(X,xe)|0,s=s+Math.imul(ee,Ee)|0,p=p+Math.imul(ee,xe)|0,h=h+Math.imul(G,Se)|0,s=s+Math.imul(G,Ce)|0,s=s+Math.imul(Z,Se)|0,p=p+Math.imul(Z,Ce)|0,h=h+Math.imul(Q,Re)|0,s=s+Math.imul(Q,Te)|0,s=s+Math.imul(Y,Re)|0,p=p+Math.imul(Y,Te)|0;var tn=(M+h|0)+((s&8191)<<13)|0;M=(p+(s>>>13)|0)+(tn>>>26)|0,tn&=67108863,h=Math.imul(ae,me),s=Math.imul(ae,_e),s=s+Math.imul(ce,me)|0,p=Math.imul(ce,_e),h=h+Math.imul(oe,ye)|0,s=s+Math.imul(oe,we)|0,s=s+Math.imul(se,ye)|0,p=p+Math.imul(se,we)|0,h=h+Math.imul(re,be)|0,s=s+Math.imul(re,Me)|0,s=s+Math.imul(ie,be)|0,p=p+Math.imul(ie,Me)|0,h=h+Math.imul(te,Ee)|0,s=s+Math.imul(te,xe)|0,s=s+Math.imul(ne,Ee)|0,p=p+Math.imul(ne,xe)|0,h=h+Math.imul(X,Se)|0,s=s+Math.imul(X,Ce)|0,s=s+Math.imul(ee,Se)|0,p=p+Math.imul(ee,Ce)|0,h=h+Math.imul(G,Re)|0,s=s+Math.imul(G,Te)|0,s=s+Math.imul(Z,Re)|0,p=p+Math.imul(Z,Te)|0;var nn=(M+h|0)+((s&8191)<<13)|0;M=(p+(s>>>13)|0)+(nn>>>26)|0,nn&=67108863,h=Math.imul(ae,ye),s=Math.imul(ae,we),s=s+Math.imul(ce,ye)|0,p=Math.imul(ce,we),h=h+Math.imul(oe,be)|0,s=s+Math.imul(oe,Me)|0,s=s+Math.imul(se,be)|0,p=p+Math.imul(se,Me)|0,h=h+Math.imul(re,Ee)|0,s=s+Math.imul(re,xe)|0,s=s+Math.imul(ie,Ee)|0,p=p+Math.imul(ie,xe)|0,h=h+Math.imul(te,Se)|0,s=s+Math.imul(te,Ce)|0,s=s+Math.imul(ne,Se)|0,p=p+Math.imul(ne,Ce)|0,h=h+Math.imul(X,Re)|0,s=s+Math.imul(X,Te)|0,s=s+Math.imul(ee,Re)|0,p=p+Math.imul(ee,Te)|0;var rn=(M+h|0)+((s&8191)<<13)|0;M=(p+(s>>>13)|0)+(rn>>>26)|0,rn&=67108863,h=Math.imul(ae,be),s=Math.imul(ae,Me),s=s+Math.imul(ce,be)|0,p=Math.imul(ce,Me),h=h+Math.imul(oe,Ee)|0,s=s+Math.imul(oe,xe)|0,s=s+Math.imul(se,Ee)|0,p=p+Math.imul(se,xe)|0,h=h+Math.imul(re,Se)|0,s=s+Math.imul(re,Ce)|0,s=s+Math.imul(ie,Se)|0,p=p+Math.imul(ie,Ce)|0,h=h+Math.imul(te,Re)|0,s=s+Math.imul(te,Te)|0,s=s+Math.imul(ne,Re)|0,p=p+Math.imul(ne,Te)|0;var on=(M+h|0)+((s&8191)<<13)|0;M=(p+(s>>>13)|0)+(on>>>26)|0,on&=67108863,h=Math.imul(ae,Ee),s=Math.imul(ae,xe),s=s+Math.imul(ce,Ee)|0,p=Math.imul(ce,xe),h=h+Math.imul(oe,Se)|0,s=s+Math.imul(oe,Ce)|0,s=s+Math.imul(se,Se)|0,p=p+Math.imul(se,Ce)|0,h=h+Math.imul(re,Re)|0,s=s+Math.imul(re,Te)|0,s=s+Math.imul(ie,Re)|0,p=p+Math.imul(ie,Te)|0;var sn=(M+h|0)+((s&8191)<<13)|0;M=(p+(s>>>13)|0)+(sn>>>26)|0,sn&=67108863,h=Math.imul(ae,Se),s=Math.imul(ae,Ce),s=s+Math.imul(ce,Se)|0,p=Math.imul(ce,Ce),h=h+Math.imul(oe,Re)|0,s=s+Math.imul(oe,Te)|0,s=s+Math.imul(se,Re)|0,p=p+Math.imul(se,Te)|0;var an=(M+h|0)+((s&8191)<<13)|0;M=(p+(s>>>13)|0)+(an>>>26)|0,an&=67108863,h=Math.imul(ae,Re),s=Math.imul(ae,Te),s=s+Math.imul(ce,Re)|0,p=Math.imul(ce,Te);var cn=(M+h|0)+((s&8191)<<13)|0;return M=(p+(s>>>13)|0)+(cn>>>26)|0,cn&=67108863,y[0]=Wt,y[1]=zt,y[2]=jt,y[3]=Jt,y[4]=Vt,y[5]=Kt,y[6]=Qt,y[7]=Yt,y[8]=Gt,y[9]=Zt,y[10]=Xt,y[11]=en,y[12]=tn,y[13]=nn,y[14]=rn,y[15]=on,y[16]=sn,y[17]=an,y[18]=cn,M!==0&&(y[19]=M,c.length++),c};Math.imul||(k=T);function I(v,i,l){l.negative=i.negative^v.negative,l.length=v.length+i.length;for(var c=0,f=0,d=0;d<l.length-1;d++){var y=f;f=0;for(var M=c&67108863,h=Math.min(d,i.length-1),s=Math.max(0,d-v.length+1);s<=h;s++){var p=d-s,B=v.words[p]|0,P=i.words[s]|0,U=B*P,$=U&67108863;y=y+(U/67108864|0)|0,$=$+M|0,M=$&67108863,y=y+($>>>26)|0,f+=y>>>26,y&=67108863}l.words[d]=M,c=y,y=f}return c!==0?l.words[d]=c:l.length--,l.strip()}function w(v,i,l){var c=new E;return c.mulp(v,i,l)}o.prototype.mulTo=function(i,l){var c,f=this.length+i.length;return this.length===10&&i.length===10?c=k(this,i,l):f<63?c=T(this,i,l):f<1024?c=I(this,i,l):c=w(this,i,l),c};function E(v,i){this.x=v,this.y=i}E.prototype.makeRBT=function(i){for(var l=new Array(i),c=o.prototype._countBits(i)-1,f=0;f<i;f++)l[f]=this.revBin(f,c,i);return l},E.prototype.revBin=function(i,l,c){if(i===0||i===c-1)return i;for(var f=0,d=0;d<l;d++)f|=(i&1)<<l-d-1,i>>=1;return f},E.prototype.permute=function(i,l,c,f,d,y){for(var M=0;M<y;M++)f[M]=l[i[M]],d[M]=c[i[M]]},E.prototype.transform=function(i,l,c,f,d,y){this.permute(y,i,l,c,f,d);for(var M=1;M<d;M<<=1)for(var h=M<<1,s=Math.cos(2*Math.PI/h),p=Math.sin(2*Math.PI/h),B=0;B<d;B+=h)for(var P=s,U=p,$=0;$<M;$++){var W=c[B+$],z=f[B+$],Ue=c[B+$+M],j=f[B+$+M],K=P*Ue-U*j;j=P*j+U*Ue,Ue=K,c[B+$]=W+Ue,f[B+$]=z+j,c[B+$+M]=W-Ue,f[B+$+M]=z-j,$!==h&&(K=s*P-p*U,U=s*U+p*P,P=K)}},E.prototype.guessLen13b=function(i,l){var c=Math.max(l,i)|1,f=c&1,d=0;for(c=c/2|0;c;c=c>>>1)d++;return 1<<d+1+f},E.prototype.conjugate=function(i,l,c){if(!(c<=1))for(var f=0;f<c/2;f++){var d=i[f];i[f]=i[c-f-1],i[c-f-1]=d,d=l[f],l[f]=-l[c-f-1],l[c-f-1]=-d}},E.prototype.normalize13b=function(i,l){for(var c=0,f=0;f<l/2;f++){var d=Math.round(i[2*f+1]/l)*8192+Math.round(i[2*f]/l)+c;i[f]=d&67108863,d<67108864?c=0:c=d/67108864|0}return i},E.prototype.convert13b=function(i,l,c,f){for(var d=0,y=0;y<l;y++)d=d+(i[y]|0),c[2*y]=d&8191,d=d>>>13,c[2*y+1]=d&8191,d=d>>>13;for(y=2*l;y<f;++y)c[y]=0;r(d===0),r((d&-8192)===0)},E.prototype.stub=function(i){for(var l=new Array(i),c=0;c<i;c++)l[c]=0;return l},E.prototype.mulp=function(i,l,c){var f=2*this.guessLen13b(i.length,l.length),d=this.makeRBT(f),y=this.stub(f),M=new Array(f),h=new Array(f),s=new Array(f),p=new Array(f),B=new Array(f),P=new Array(f),U=c.words;U.length=f,this.convert13b(i.words,i.length,M,f),this.convert13b(l.words,l.length,p,f),this.transform(M,y,h,s,f,d),this.transform(p,y,B,P,f,d);for(var $=0;$<f;$++){var W=h[$]*B[$]-s[$]*P[$];s[$]=h[$]*P[$]+s[$]*B[$],h[$]=W}return this.conjugate(h,s,f),this.transform(h,s,U,y,f,d),this.conjugate(U,y,f),this.normalize13b(U,f),c.negative=i.negative^l.negative,c.length=i.length+l.length,c.strip()},o.prototype.mul=function(i){var l=new o(null);return l.words=new Array(this.length+i.length),this.mulTo(i,l)},o.prototype.mulf=function(i){var l=new o(null);return l.words=new Array(this.length+i.length),w(this,i,l)},o.prototype.imul=function(i){return this.clone().mulTo(i,this)},o.prototype.imuln=function(i){r(typeof i=="number"),r(i<67108864);for(var l=0,c=0;c<this.length;c++){var f=(this.words[c]|0)*i,d=(f&67108863)+(l&67108863);l>>=26,l+=f/67108864|0,l+=d>>>26,this.words[c]=d&67108863}return l!==0&&(this.words[c]=l,this.length++),this},o.prototype.muln=function(i){return this.clone().imuln(i)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(i){var l=A(i);if(l.length===0)return new o(1);for(var c=this,f=0;f<l.length&&l[f]===0;f++,c=c.sqr());if(++f<l.length)for(var d=c.sqr();f<l.length;f++,d=d.sqr())l[f]!==0&&(c=c.mul(d));return c},o.prototype.iushln=function(i){r(typeof i=="number"&&i>=0);var l=i%26,c=(i-l)/26,f=67108863>>>26-l<<26-l,d;if(l!==0){var y=0;for(d=0;d<this.length;d++){var M=this.words[d]&f,h=(this.words[d]|0)-M<<l;this.words[d]=h|y,y=M>>>26-l}y&&(this.words[d]=y,this.length++)}if(c!==0){for(d=this.length-1;d>=0;d--)this.words[d+c]=this.words[d];for(d=0;d<c;d++)this.words[d]=0;this.length+=c}return this.strip()},o.prototype.ishln=function(i){return r(this.negative===0),this.iushln(i)},o.prototype.iushrn=function(i,l,c){r(typeof i=="number"&&i>=0);var f;l?f=(l-l%26)/26:f=0;var d=i%26,y=Math.min((i-d)/26,this.length),M=67108863^67108863>>>d<<d,h=c;if(f-=y,f=Math.max(0,f),h){for(var s=0;s<y;s++)h.words[s]=this.words[s];h.length=y}if(y!==0)if(this.length>y)for(this.length-=y,s=0;s<this.length;s++)this.words[s]=this.words[s+y];else this.words[0]=0,this.length=1;var p=0;for(s=this.length-1;s>=0&&(p!==0||s>=f);s--){var B=this.words[s]|0;this.words[s]=p<<26-d|B>>>d,p=B&M}return h&&p!==0&&(h.words[h.length++]=p),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(i,l,c){return r(this.negative===0),this.iushrn(i,l,c)},o.prototype.shln=function(i){return this.clone().ishln(i)},o.prototype.ushln=function(i){return this.clone().iushln(i)},o.prototype.shrn=function(i){return this.clone().ishrn(i)},o.prototype.ushrn=function(i){return this.clone().iushrn(i)},o.prototype.testn=function(i){r(typeof i=="number"&&i>=0);var l=i%26,c=(i-l)/26,f=1<<l;if(this.length<=c)return!1;var d=this.words[c];return!!(d&f)},o.prototype.imaskn=function(i){r(typeof i=="number"&&i>=0);var l=i%26,c=(i-l)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(l!==0&&c++,this.length=Math.min(c,this.length),l!==0){var f=67108863^67108863>>>l<<l;this.words[this.length-1]&=f}return this.strip()},o.prototype.maskn=function(i){return this.clone().imaskn(i)},o.prototype.iaddn=function(i){return r(typeof i=="number"),r(i<67108864),i<0?this.isubn(-i):this.negative!==0?this.length===1&&(this.words[0]|0)<i?(this.words[0]=i-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(i),this.negative=1,this):this._iaddn(i)},o.prototype._iaddn=function(i){this.words[0]+=i;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},o.prototype.isubn=function(i){if(r(typeof i=="number"),r(i<67108864),i<0)return this.iaddn(-i);if(this.negative!==0)return this.negative=0,this.iaddn(i),this.negative=1,this;if(this.words[0]-=i,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this.strip()},o.prototype.addn=function(i){return this.clone().iaddn(i)},o.prototype.subn=function(i){return this.clone().isubn(i)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(i,l,c){var f=i.length+c,d;this._expand(f);var y,M=0;for(d=0;d<i.length;d++){y=(this.words[d+c]|0)+M;var h=(i.words[d]|0)*l;y-=h&67108863,M=(y>>26)-(h/67108864|0),this.words[d+c]=y&67108863}for(;d<this.length-c;d++)y=(this.words[d+c]|0)+M,M=y>>26,this.words[d+c]=y&67108863;if(M===0)return this.strip();for(r(M===-1),M=0,d=0;d<this.length;d++)y=-(this.words[d]|0)+M,M=y>>26,this.words[d]=y&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(i,l){var c=this.length-i.length,f=this.clone(),d=i,y=d.words[d.length-1]|0,M=this._countBits(y);c=26-M,c!==0&&(d=d.ushln(c),f.iushln(c),y=d.words[d.length-1]|0);var h=f.length-d.length,s;if(l!=="mod"){s=new o(null),s.length=h+1,s.words=new Array(s.length);for(var p=0;p<s.length;p++)s.words[p]=0}var B=f.clone()._ishlnsubmul(d,1,h);B.negative===0&&(f=B,s&&(s.words[h]=1));for(var P=h-1;P>=0;P--){var U=(f.words[d.length+P]|0)*67108864+(f.words[d.length+P-1]|0);for(U=Math.min(U/y|0,67108863),f._ishlnsubmul(d,U,P);f.negative!==0;)U--,f.negative=0,f._ishlnsubmul(d,1,P),f.isZero()||(f.negative^=1);s&&(s.words[P]=U)}return s&&s.strip(),f.strip(),l!=="div"&&c!==0&&f.iushrn(c),{div:s||null,mod:f}},o.prototype.divmod=function(i,l,c){if(r(!i.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var f,d,y;return this.negative!==0&&i.negative===0?(y=this.neg().divmod(i,l),l!=="mod"&&(f=y.div.neg()),l!=="div"&&(d=y.mod.neg(),c&&d.negative!==0&&d.iadd(i)),{div:f,mod:d}):this.negative===0&&i.negative!==0?(y=this.divmod(i.neg(),l),l!=="mod"&&(f=y.div.neg()),{div:f,mod:y.mod}):(this.negative&i.negative)!==0?(y=this.neg().divmod(i.neg(),l),l!=="div"&&(d=y.mod.neg(),c&&d.negative!==0&&d.isub(i)),{div:y.div,mod:d}):i.length>this.length||this.cmp(i)<0?{div:new o(0),mod:this}:i.length===1?l==="div"?{div:this.divn(i.words[0]),mod:null}:l==="mod"?{div:null,mod:new o(this.modn(i.words[0]))}:{div:this.divn(i.words[0]),mod:new o(this.modn(i.words[0]))}:this._wordDiv(i,l)},o.prototype.div=function(i){return this.divmod(i,"div",!1).div},o.prototype.mod=function(i){return this.divmod(i,"mod",!1).mod},o.prototype.umod=function(i){return this.divmod(i,"mod",!0).mod},o.prototype.divRound=function(i){var l=this.divmod(i);if(l.mod.isZero())return l.div;var c=l.div.negative!==0?l.mod.isub(i):l.mod,f=i.ushrn(1),d=i.andln(1),y=c.cmp(f);return y<0||d===1&&y===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},o.prototype.modn=function(i){r(i<=67108863);for(var l=(1<<26)%i,c=0,f=this.length-1;f>=0;f--)c=(l*c+(this.words[f]|0))%i;return c},o.prototype.idivn=function(i){r(i<=67108863);for(var l=0,c=this.length-1;c>=0;c--){var f=(this.words[c]|0)+l*67108864;this.words[c]=f/i|0,l=f%i}return this.strip()},o.prototype.divn=function(i){return this.clone().idivn(i)},o.prototype.egcd=function(i){r(i.negative===0),r(!i.isZero());var l=this,c=i.clone();l.negative!==0?l=l.umod(i):l=l.clone();for(var f=new o(1),d=new o(0),y=new o(0),M=new o(1),h=0;l.isEven()&&c.isEven();)l.iushrn(1),c.iushrn(1),++h;for(var s=c.clone(),p=l.clone();!l.isZero();){for(var B=0,P=1;(l.words[0]&P)===0&&B<26;++B,P<<=1);if(B>0)for(l.iushrn(B);B-- >0;)(f.isOdd()||d.isOdd())&&(f.iadd(s),d.isub(p)),f.iushrn(1),d.iushrn(1);for(var U=0,$=1;(c.words[0]&$)===0&&U<26;++U,$<<=1);if(U>0)for(c.iushrn(U);U-- >0;)(y.isOdd()||M.isOdd())&&(y.iadd(s),M.isub(p)),y.iushrn(1),M.iushrn(1);l.cmp(c)>=0?(l.isub(c),f.isub(y),d.isub(M)):(c.isub(l),y.isub(f),M.isub(d))}return{a:y,b:M,gcd:c.iushln(h)}},o.prototype._invmp=function(i){r(i.negative===0),r(!i.isZero());var l=this,c=i.clone();l.negative!==0?l=l.umod(i):l=l.clone();for(var f=new o(1),d=new o(0),y=c.clone();l.cmpn(1)>0&&c.cmpn(1)>0;){for(var M=0,h=1;(l.words[0]&h)===0&&M<26;++M,h<<=1);if(M>0)for(l.iushrn(M);M-- >0;)f.isOdd()&&f.iadd(y),f.iushrn(1);for(var s=0,p=1;(c.words[0]&p)===0&&s<26;++s,p<<=1);if(s>0)for(c.iushrn(s);s-- >0;)d.isOdd()&&d.iadd(y),d.iushrn(1);l.cmp(c)>=0?(l.isub(c),f.isub(d)):(c.isub(l),d.isub(f))}var B;return l.cmpn(1)===0?B=f:B=d,B.cmpn(0)<0&&B.iadd(i),B},o.prototype.gcd=function(i){if(this.isZero())return i.abs();if(i.isZero())return this.abs();var l=this.clone(),c=i.clone();l.negative=0,c.negative=0;for(var f=0;l.isEven()&&c.isEven();f++)l.iushrn(1),c.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;c.isEven();)c.iushrn(1);var d=l.cmp(c);if(d<0){var y=l;l=c,c=y}else if(d===0||c.cmpn(1)===0)break;l.isub(c)}while(!0);return c.iushln(f)},o.prototype.invm=function(i){return this.egcd(i).a.umod(i)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(i){return this.words[0]&i},o.prototype.bincn=function(i){r(typeof i=="number");var l=i%26,c=(i-l)/26,f=1<<l;if(this.length<=c)return this._expand(c+1),this.words[c]|=f,this;for(var d=f,y=c;d!==0&&y<this.length;y++){var M=this.words[y]|0;M+=d,d=M>>>26,M&=67108863,this.words[y]=M}return d!==0&&(this.words[y]=d,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(i){var l=i<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this.strip();var c;if(this.length>1)c=1;else{l&&(i=-i),r(i<=67108863,"Number is too big");var f=this.words[0]|0;c=f===i?0:f<i?-1:1}return this.negative!==0?-c|0:c},o.prototype.cmp=function(i){if(this.negative!==0&&i.negative===0)return-1;if(this.negative===0&&i.negative!==0)return 1;var l=this.ucmp(i);return this.negative!==0?-l|0:l},o.prototype.ucmp=function(i){if(this.length>i.length)return 1;if(this.length<i.length)return-1;for(var l=0,c=this.length-1;c>=0;c--){var f=this.words[c]|0,d=i.words[c]|0;if(f!==d){f<d?l=-1:f>d&&(l=1);break}}return l},o.prototype.gtn=function(i){return this.cmpn(i)===1},o.prototype.gt=function(i){return this.cmp(i)===1},o.prototype.gten=function(i){return this.cmpn(i)>=0},o.prototype.gte=function(i){return this.cmp(i)>=0},o.prototype.ltn=function(i){return this.cmpn(i)===-1},o.prototype.lt=function(i){return this.cmp(i)===-1},o.prototype.lten=function(i){return this.cmpn(i)<=0},o.prototype.lte=function(i){return this.cmp(i)<=0},o.prototype.eqn=function(i){return this.cmpn(i)===0},o.prototype.eq=function(i){return this.cmp(i)===0},o.red=function(i){return new F(i)},o.prototype.toRed=function(i){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),i.convertTo(this)._forceRed(i)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(i){return this.red=i,this},o.prototype.forceRed=function(i){return r(!this.red,"Already a number in reduction context"),this._forceRed(i)},o.prototype.redAdd=function(i){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,i)},o.prototype.redIAdd=function(i){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,i)},o.prototype.redSub=function(i){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,i)},o.prototype.redISub=function(i){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,i)},o.prototype.redShl=function(i){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,i)},o.prototype.redMul=function(i){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.mul(this,i)},o.prototype.redIMul=function(i){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.imul(this,i)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(i){return r(this.red&&!i.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,i)};var S={k256:null,p224:null,p192:null,p25519:null};function x(v,i){this.name=v,this.p=new o(i,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}x.prototype._tmp=function(){var i=new o(null);return i.words=new Array(Math.ceil(this.n/13)),i},x.prototype.ireduce=function(i){var l=i,c;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),c=l.bitLength();while(c>this.n);var f=c<this.n?-1:l.ucmp(this.p);return f===0?(l.words[0]=0,l.length=1):f>0?l.isub(this.p):l.strip(),l},x.prototype.split=function(i,l){i.iushrn(this.n,0,l)},x.prototype.imulK=function(i){return i.imul(this.k)};function R(){x.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(R,x),R.prototype.split=function(i,l){for(var c=4194303,f=Math.min(i.length,9),d=0;d<f;d++)l.words[d]=i.words[d];if(l.length=f,i.length<=9){i.words[0]=0,i.length=1;return}var y=i.words[9];for(l.words[l.length++]=y&c,d=10;d<i.length;d++){var M=i.words[d]|0;i.words[d-10]=(M&c)<<4|y>>>22,y=M}y>>>=22,i.words[d-10]=y,y===0&&i.length>10?i.length-=10:i.length-=9},R.prototype.imulK=function(i){i.words[i.length]=0,i.words[i.length+1]=0,i.length+=2;for(var l=0,c=0;c<i.length;c++){var f=i.words[c]|0;l+=f*977,i.words[c]=l&67108863,l=f*64+(l/67108864|0)}return i.words[i.length-1]===0&&(i.length--,i.words[i.length-1]===0&&i.length--),i};function N(){x.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(N,x);function L(){x.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(L,x);function D(){x.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(D,x),D.prototype.imulK=function(i){for(var l=0,c=0;c<i.length;c++){var f=(i.words[c]|0)*19+l,d=f&67108863;f>>>=26,i.words[c]=d,l=f}return l!==0&&(i.words[i.length++]=l),i},o._prime=function(i){if(S[i])return S[i];var l;if(i==="k256")l=new R;else if(i==="p224")l=new N;else if(i==="p192")l=new L;else if(i==="p25519")l=new D;else throw new Error("Unknown prime "+i);return S[i]=l,l};function F(v){if(typeof v=="string"){var i=o._prime(v);this.m=i.p,this.prime=i}else r(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}F.prototype._verify1=function(i){r(i.negative===0,"red works only with positives"),r(i.red,"red works only with red numbers")},F.prototype._verify2=function(i,l){r((i.negative|l.negative)===0,"red works only with positives"),r(i.red&&i.red===l.red,"red works only with red numbers")},F.prototype.imod=function(i){return this.prime?this.prime.ireduce(i)._forceRed(this):i.umod(this.m)._forceRed(this)},F.prototype.neg=function(i){return i.isZero()?i.clone():this.m.sub(i)._forceRed(this)},F.prototype.add=function(i,l){this._verify2(i,l);var c=i.add(l);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},F.prototype.iadd=function(i,l){this._verify2(i,l);var c=i.iadd(l);return c.cmp(this.m)>=0&&c.isub(this.m),c},F.prototype.sub=function(i,l){this._verify2(i,l);var c=i.sub(l);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},F.prototype.isub=function(i,l){this._verify2(i,l);var c=i.isub(l);return c.cmpn(0)<0&&c.iadd(this.m),c},F.prototype.shl=function(i,l){return this._verify1(i),this.imod(i.ushln(l))},F.prototype.imul=function(i,l){return this._verify2(i,l),this.imod(i.imul(l))},F.prototype.mul=function(i,l){return this._verify2(i,l),this.imod(i.mul(l))},F.prototype.isqr=function(i){return this.imul(i,i.clone())},F.prototype.sqr=function(i){return this.mul(i,i)},F.prototype.sqrt=function(i){if(i.isZero())return i.clone();var l=this.m.andln(3);if(r(l%2===1),l===3){var c=this.m.add(new o(1)).iushrn(2);return this.pow(i,c)}for(var f=this.m.subn(1),d=0;!f.isZero()&&f.andln(1)===0;)d++,f.iushrn(1);r(!f.isZero());var y=new o(1).toRed(this),M=y.redNeg(),h=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new o(2*s*s).toRed(this);this.pow(s,h).cmp(M)!==0;)s.redIAdd(M);for(var p=this.pow(s,f),B=this.pow(i,f.addn(1).iushrn(1)),P=this.pow(i,f),U=d;P.cmp(y)!==0;){for(var $=P,W=0;$.cmp(y)!==0;W++)$=$.redSqr();r(W<U);var z=this.pow(p,new o(1).iushln(U-W-1));B=B.redMul(z),p=z.redSqr(),P=P.redMul(p),U=W}return B},F.prototype.invm=function(i){var l=i._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},F.prototype.pow=function(i,l){if(l.isZero())return new o(1).toRed(this);if(l.cmpn(1)===0)return i.clone();var c=4,f=new Array(1<<c);f[0]=new o(1).toRed(this),f[1]=i;for(var d=2;d<f.length;d++)f[d]=this.mul(f[d-1],i);var y=f[0],M=0,h=0,s=l.bitLength()%26;for(s===0&&(s=26),d=l.length-1;d>=0;d--){for(var p=l.words[d],B=s-1;B>=0;B--){var P=p>>B&1;if(y!==f[0]&&(y=this.sqr(y)),P===0&&M===0){h=0;continue}M<<=1,M|=P,h++,!(h!==c&&(d!==0||B!==0))&&(y=this.mul(y,f[M]),h=0,M=0)}s=26}return y},F.prototype.convertTo=function(i){var l=i.umod(this.m);return l===i?l.clone():l},F.prototype.convertFrom=function(i){var l=i.clone();return l.red=null,l},o.mont=function(i){return new V(i)};function V(v){F.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(V,F),V.prototype.convertTo=function(i){return this.imod(i.ushln(this.shift))},V.prototype.convertFrom=function(i){var l=this.imod(i.mul(this.rinv));return l.red=null,l},V.prototype.imul=function(i,l){if(i.isZero()||l.isZero())return i.words[0]=0,i.length=1,i;var c=i.imul(l),f=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=c.isub(f).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},V.prototype.mul=function(i,l){if(i.isZero()||l.isZero())return new o(0)._forceRed(this);var c=i.mul(l),f=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=c.isub(f).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},V.prototype.invm=function(i){var l=this.imod(i._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(t,lt)})(Gi);const Ua=Gi.exports;var Da=Wn;Wn.strict=Zi;Wn.loose=Xi;var qa=Object.prototype.toString,Fa={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function Wn(t){return Zi(t)||Xi(t)}function Zi(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function Xi(t){return Fa[qa.call(t)]}var $a=Da.strict,Ha=function(e){if($a(e)){var n=Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(n=n.slice(e.byteOffset,e.byteOffset+e.byteLength)),n}else return Buffer.from(e)};const eo="hex",to="utf8",Lt="0";function Ze(t){return new Uint8Array(t)}function no(t,e=!1){const n=t.toString(eo);return e?at(n):n}function Wa(t){return t.toString(to)}function Pt(t){return Ha(t)}function Ye(t,e=!1){return no(Pt(t),e)}function za(t){return Wa(Pt(t))}function ja(t){return Buffer.from(He(t),eo)}function Ge(t){return Ze(ja(t))}function zn(t){return Buffer.from(t,to)}function Ja(t){return Ze(zn(t))}function Va(t,e=!1){return no(zn(t),e)}function Ka(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function ro(...t){let e=[];return t.forEach(n=>e=e.concat(Array.from(n))),new Uint8Array([...e])}function Qa(t,e=8){const n=t%e;return n?(t-n)/e*e+e:t}function Ya(t,e=8,n=Lt){return Ga(t,Qa(t.length,e),n)}function Ga(t,e,n=Lt){return Xa(t,e,!0,n)}function He(t){return t.replace(/^0x/,"")}function at(t){return t.startsWith("0x")?t:`0x${t}`}function io(t){return t=He(t),t=Ya(t,2),t&&(t=at(t)),t}function Za(t){const e=t.startsWith("0x");return t=He(t),t=t.startsWith(Lt)?t.substring(1):t,e?at(t):t}function Xa(t,e,n,r=Lt){const a=e-t.length;let o=t;if(a>0){const u=r.repeat(a);o=n?u+t:t+u}return o}function En(t){return Pt(new Uint8Array(t))}function ec(t,e){return Ye(new Uint8Array(t),!e)}function tc(t){return Ze(t).buffer}function nc(t){return zn(t)}function rc(t,e){return Va(t,!e)}function ic(t){return Ge(t).buffer}function oo(t,e){const n=He(io(new Ua(t).toString(16)));return e?n:at(n)}function bt(t){return io(t)}function oc(t){return Za(at(t))}const sc=Mi;function ln(){return((e,n)=>{for(n=e="";e++<36;n+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return n})()}function ac(t,e){let n;const r=Pa[t];return r&&(n=`https://${r}.infura.io/v3/${e}`),n}function cc(t,e){let n;const r=ac(t,e.infuraId);return e.custom&&e.custom[t]?n=e.custom[t]:r&&(n=r),n}function lc(t){return t===""||typeof t=="string"&&t.trim()===""}function fc(t){return!(t&&t.length)}function so(t,e){return Ka(t,e)}function uc(t){return typeof t.method<"u"}function ft(t){return typeof t.result<"u"}function Ct(t){return typeof t.error<"u"}function Pr(t){return typeof t.event<"u"}function hc(t){return La.includes(t)||t.startsWith("wc_")}function dc(t){return t.method.startsWith("wc_")?!0:!Hn.includes(t.method)}function pc(t){t=He(t.toLowerCase());const e=He(Ms.exports.keccak_256(nc(t)));let n="";for(let r=0;r<t.length;r++)parseInt(e[r],16)>7?n+=t[r].toUpperCase():n+=t[r];return at(n)}const gc=t=>t?t.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(t)?/^(0x)?[0-9a-f]{40}$/.test(t)||/^(0x)?[0-9A-F]{40}$/.test(t)?!0:t===pc(t):!1:!1;function Ur(t){return!fc(t)&&!so(t[0])&&(t[0]=rc(t[0])),t}function fn(t){if(typeof t.type<"u"&&t.type!=="0")return t;if(typeof t.from>"u"||!gc(t.from))throw new Error("Transaction object must include a valid 'from' value.");function e(a){let o=a;return(typeof a=="number"||typeof a=="string"&&!lc(a))&&(so(a)?typeof a=="string"&&(o=bt(a)):o=oo(a)),typeof o=="string"&&(o=oc(o)),o}const n={from:bt(t.from),to:typeof t.to>"u"?void 0:bt(t.to),gasPrice:typeof t.gasPrice>"u"?"":e(t.gasPrice),gas:typeof t.gas>"u"?typeof t.gasLimit>"u"?"":e(t.gasLimit):e(t.gas),value:typeof t.value>"u"?"":e(t.value),nonce:typeof t.nonce>"u"?"":e(t.nonce),data:typeof t.data>"u"?"":bt(t.data)||"0x"},r=["gasPrice","gas","value","nonce"];return Object.keys(n).forEach(a=>{(typeof n[a]>"u"||typeof n[a]=="string"&&!n[a].trim().length)&&r.includes(a)&&delete n[a]}),n}function vc(t){const e=t.message||"Failed or Rejected Request";let n=-32e3;if(t&&!t.code)switch(e){case"Parse error":n=-32700;break;case"Invalid request":n=-32600;break;case"Method not found":n=-32601;break;case"Invalid params":n=-32602;break;case"Internal error":n=-32603;break;default:n=-32e3;break}const r={code:n,message:e};return t.data&&(r.data=t.data),r}var jn={},mc=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),ao="%[a-f0-9]{2}",Dr=new RegExp(ao,"gi"),qr=new RegExp("("+ao+")+","gi");function xn(t,e){try{return decodeURIComponent(t.join(""))}catch{}if(t.length===1)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],xn(n),xn(r))}function _c(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(Dr),n=1;n<e.length;n++)t=xn(e,n).join(""),e=t.match(Dr);return t}}function yc(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},n=qr.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch{var r=_c(n[0]);r!==n[0]&&(e[n[0]]=r)}n=qr.exec(t)}e["%C2"]="\uFFFD";for(var a=Object.keys(e),o=0;o<a.length;o++){var u=a[o];t=t.replace(new RegExp(u,"g"),e[u])}return t}var wc=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return yc(t)}},bc=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const n=t.indexOf(e);return n===-1?[t]:[t.slice(0,n),t.slice(n+e.length)]};(function(t){const e=mc,n=wc,r=bc,a=w=>w==null;function o(w){switch(w.arrayFormat){case"index":return E=>(S,x)=>{const R=S.length;return x===void 0||w.skipNull&&x===null||w.skipEmptyString&&x===""?S:x===null?[...S,[m(E,w),"[",R,"]"].join("")]:[...S,[m(E,w),"[",m(R,w),"]=",m(x,w)].join("")]};case"bracket":return E=>(S,x)=>x===void 0||w.skipNull&&x===null||w.skipEmptyString&&x===""?S:x===null?[...S,[m(E,w),"[]"].join("")]:[...S,[m(E,w),"[]=",m(x,w)].join("")];case"comma":case"separator":return E=>(S,x)=>x==null||x.length===0?S:S.length===0?[[m(E,w),"=",m(x,w)].join("")]:[[S,m(x,w)].join(w.arrayFormatSeparator)];default:return E=>(S,x)=>x===void 0||w.skipNull&&x===null||w.skipEmptyString&&x===""?S:x===null?[...S,m(E,w)]:[...S,[m(E,w),"=",m(x,w)].join("")]}}function u(w){let E;switch(w.arrayFormat){case"index":return(S,x,R)=>{if(E=/\[(\d*)\]$/.exec(S),S=S.replace(/\[\d*\]$/,""),!E){R[S]=x;return}R[S]===void 0&&(R[S]={}),R[S][E[1]]=x};case"bracket":return(S,x,R)=>{if(E=/(\[\])$/.exec(S),S=S.replace(/\[\]$/,""),!E){R[S]=x;return}if(R[S]===void 0){R[S]=[x];return}R[S]=[].concat(R[S],x)};case"comma":case"separator":return(S,x,R)=>{const L=typeof x=="string"&&x.split("").indexOf(w.arrayFormatSeparator)>-1?x.split(w.arrayFormatSeparator).map(D=>b(D,w)):x===null?x:b(x,w);R[S]=L};default:return(S,x,R)=>{if(R[S]===void 0){R[S]=x;return}R[S]=[].concat(R[S],x)}}}function g(w){if(typeof w!="string"||w.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function m(w,E){return E.encode?E.strict?e(w):encodeURIComponent(w):w}function b(w,E){return E.decode?n(w):w}function _(w){return Array.isArray(w)?w.sort():typeof w=="object"?_(Object.keys(w)).sort((E,S)=>Number(E)-Number(S)).map(E=>w[E]):w}function C(w){const E=w.indexOf("#");return E!==-1&&(w=w.slice(0,E)),w}function A(w){let E="";const S=w.indexOf("#");return S!==-1&&(E=w.slice(S)),E}function T(w){w=C(w);const E=w.indexOf("?");return E===-1?"":w.slice(E+1)}function k(w,E){return E.parseNumbers&&!Number.isNaN(Number(w))&&typeof w=="string"&&w.trim()!==""?w=Number(w):E.parseBooleans&&w!==null&&(w.toLowerCase()==="true"||w.toLowerCase()==="false")&&(w=w.toLowerCase()==="true"),w}function I(w,E){E=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},E),g(E.arrayFormatSeparator);const S=u(E),x=Object.create(null);if(typeof w!="string"||(w=w.trim().replace(/^[?#&]/,""),!w))return x;for(const R of w.split("&")){let[N,L]=r(E.decode?R.replace(/\+/g," "):R,"=");L=L===void 0?null:["comma","separator"].includes(E.arrayFormat)?L:b(L,E),S(b(N,E),L,x)}for(const R of Object.keys(x)){const N=x[R];if(typeof N=="object"&&N!==null)for(const L of Object.keys(N))N[L]=k(N[L],E);else x[R]=k(N,E)}return E.sort===!1?x:(E.sort===!0?Object.keys(x).sort():Object.keys(x).sort(E.sort)).reduce((R,N)=>{const L=x[N];return Boolean(L)&&typeof L=="object"&&!Array.isArray(L)?R[N]=_(L):R[N]=L,R},Object.create(null))}t.extract=T,t.parse=I,t.stringify=(w,E)=>{if(!w)return"";E=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},E),g(E.arrayFormatSeparator);const S=L=>E.skipNull&&a(w[L])||E.skipEmptyString&&w[L]==="",x=o(E),R={};for(const L of Object.keys(w))S(L)||(R[L]=w[L]);const N=Object.keys(R);return E.sort!==!1&&N.sort(E.sort),N.map(L=>{const D=w[L];return D===void 0?"":D===null?m(L,E):Array.isArray(D)?D.reduce(x(L),[]).join("&"):m(L,E)+"="+m(D,E)}).filter(L=>L.length>0).join("&")},t.parseUrl=(w,E)=>{E=Object.assign({decode:!0},E);const[S,x]=r(w,"#");return Object.assign({url:S.split("?")[0]||"",query:I(T(w),E)},E&&E.parseFragmentIdentifier&&x?{fragmentIdentifier:b(x,E)}:{})},t.stringifyUrl=(w,E)=>{E=Object.assign({encode:!0,strict:!0},E);const S=C(w.url).split("?")[0]||"",x=t.extract(w.url),R=t.parse(x,{sort:!1}),N=Object.assign(R,w.query);let L=t.stringify(N,E);L&&(L=`?${L}`);let D=A(w.url);return w.fragmentIdentifier&&(D=`#${m(w.fragmentIdentifier,E)}`),`${S}${L}${D}`}})(jn);function Mc(t){const e=t.indexOf("?")!==-1?t.indexOf("?"):void 0;return typeof e<"u"?t.substr(e):""}function Ec(t,e){let n=co(t);return n=Object.assign(Object.assign({},n),e),t=xc(n),t}function co(t){return jn.parse(t)}function xc(t){return jn.stringify(t)}function Sc(t){return typeof t.bridge<"u"}function Cc(t){const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),a=t.substring(e+1,n);function o(C){const A="@",T=C.split(A);return{handshakeTopic:T[0],version:parseInt(T[1],10)}}const u=o(a),g=typeof n<"u"?t.substr(n):"";function m(C){const A=co(C);return{key:A.key||"",bridge:A.bridge||""}}const b=m(g);return Object.assign(Object.assign({protocol:r},u),b)}class Rc{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(e,n){this._eventEmitters.push({event:e,callback:n})}trigger(e){let n=[];e&&(n=this._eventEmitters.filter(r=>r.event===e)),n.forEach(r=>{r.callback()})}}const Tc=typeof globalThis.WebSocket<"u"?globalThis.WebSocket:require("ws");class kc{constructor(e){if(this.opts=e,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=e.protocol,this._version=e.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=e.subscriptions||[],this._netMonitor=e.netMonitor||new Rc,!e.url||typeof e.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=e.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(e){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(e){}get connecting(){return this.readyState===0}set connected(e){}get connected(){return this.readyState===1}set closing(e){}get closing(){return this.readyState===2}set closed(e){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(e,n,r){if(!n||typeof n!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:n,type:"pub",payload:e,silent:!!r})}subscribe(e){this._socketSend({topic:e,type:"sub",payload:"",silent:!0})}on(e,n){this._events.push({event:e,callback:n})}_socketCreate(){if(this._nextSocket)return;const e=Ac(this._url,this._protocol,this._version);if(this._nextSocket=new Tc(e),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=n=>this._socketReceive(n),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=n=>this._socketError(n),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(e){const n=JSON.stringify(e);this._socket&&this._socket.readyState===1?this._socket.send(n):(this._setToQueue(e),this._socketCreate())}async _socketReceive(e){let n;try{n=JSON.parse(e.data)}catch{return}if(this._socketSend({topic:n.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const r=this._events.filter(a=>a.event==="message");r&&r.length&&r.forEach(a=>a.callback(n))}}_socketError(e){const n=this._events.filter(r=>r.event==="error");n&&n.length&&n.forEach(r=>r.callback(e))}_queueSubscriptions(){this._subscriptions.forEach(n=>this._queue.push({topic:n,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(e){this._queue.push(e)}_pushQueue(){this._queue.forEach(n=>this._socketSend(n)),this._queue=[]}}function Ac(t,e,n){var r,a;const u=(t.startsWith("https")?t.replace("https","wss"):t.startsWith("http")?t.replace("http","ws"):t).split("?"),g=Wi()?{protocol:e,version:n,env:"browser",host:((r=ji())===null||r===void 0?void 0:r.host)||""}:{protocol:e,version:n,env:((a=Ot())===null||a===void 0?void 0:a.name)||""},m=Ec(Mc(u[1]||""),g);return u[0]+"?"+m}const un="Session currently connected",Je="Session currently disconnected",Ic="Session Rejected",Oc="Missing JSON RPC response",Nc='JSON-RPC success response must include "result" field',Bc='JSON-RPC error response must include "error" field',Lc='JSON RPC request must have valid "method" value',Pc='JSON RPC request must have valid "id" value',Uc="Missing one of the required parameters: bridge / uri / session",Fr="JSON RPC response format is invalid",Dc="URI format is invalid",qc="QRCode Modal not provided",$r="User close QRCode Modal";class Fc{constructor(){this._eventEmitters=[]}subscribe(e){this._eventEmitters.push(e)}unsubscribe(e){this._eventEmitters=this._eventEmitters.filter(n=>n.event!==e)}trigger(e){let n=[],r;uc(e)?r=e.method:ft(e)||Ct(e)?r=`response:${e.id}`:Pr(e)?r=e.event:r="",r&&(n=this._eventEmitters.filter(a=>a.event===r)),(!n||!n.length)&&!hc(r)&&!Pr(r)&&(n=this._eventEmitters.filter(a=>a.event==="call_request")),n.forEach(a=>{if(Ct(e)){const o=new Error(e.error.message);a.callback(o,null)}else a.callback(null,e)})}}class $c{constructor(e="walletconnect"){this.storageId=e}getSession(){let e=null;const n=Fn(this.storageId);return n&&Sc(n)&&(e=n),e}setSession(e){return qn(this.storageId,e),e}removeSession(){$n(this.storageId)}}const Hc="walletconnect.org",Wc="abcdefghijklmnopqrstuvwxyz0123456789",lo=Wc.split("").map(t=>`https://${t}.bridge.walletconnect.org`);function zc(t){let e=t.indexOf("//")>-1?t.split("/")[2]:t.split("/")[0];return e=e.split(":")[0],e=e.split("?")[0],e}function jc(t){return zc(t).split(".").slice(-2).join(".")}function Jc(){return Math.floor(Math.random()*lo.length)}function Vc(){return lo[Jc()]}function Kc(t){return jc(t)===Hc}function Qc(t){return Kc(t)?Vc():t}class Yc{constructor(e){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new Fc,this._clientMeta=Mn()||e.connectorOpts.clientMeta||null,this._cryptoLib=e.cryptoLib,this._sessionStorage=e.sessionStorage||new $c(e.connectorOpts.storageId),this._qrcodeModal=e.connectorOpts.qrcodeModal,this._qrcodeModalOptions=e.connectorOpts.qrcodeModalOptions,this._signingMethods=[...Hn,...e.connectorOpts.signingMethods||[]],!e.connectorOpts.bridge&&!e.connectorOpts.uri&&!e.connectorOpts.session)throw new Error(Uc);e.connectorOpts.bridge&&(this.bridge=Qc(e.connectorOpts.bridge)),e.connectorOpts.uri&&(this.uri=e.connectorOpts.uri);const n=e.connectorOpts.session||this._getStorageSession();n&&(this.session=n),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=e.transport||new kc({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),e.connectorOpts.uri&&this._subscribeToSessionRequest(),e.pushServerOpts&&this._registerPushServer(e.pushServerOpts)}set bridge(e){!e||(this._bridge=e)}get bridge(){return this._bridge}set key(e){if(!e)return;const n=ic(e);this._key=n}get key(){return this._key?ec(this._key,!0):""}set clientId(e){!e||(this._clientId=e)}get clientId(){let e=this._clientId;return e||(e=this._clientId=ln()),this._clientId}set peerId(e){!e||(this._peerId=e)}get peerId(){return this._peerId}set clientMeta(e){}get clientMeta(){let e=this._clientMeta;return e||(e=this._clientMeta=Mn()),e}set peerMeta(e){this._peerMeta=e}get peerMeta(){return this._peerMeta}set handshakeTopic(e){!e||(this._handshakeTopic=e)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(e){!e||(this._handshakeId=e)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(e){if(!e)return;const{handshakeTopic:n,bridge:r,key:a}=this._parseUri(e);this.handshakeTopic=n,this.bridge=r,this.key=a}set chainId(e){this._chainId=e}get chainId(){return this._chainId}set networkId(e){this._networkId=e}get networkId(){return this._networkId}set accounts(e){this._accounts=e}get accounts(){return this._accounts}set rpcUrl(e){this._rpcUrl=e}get rpcUrl(){return this._rpcUrl}set connected(e){}get connected(){return this._connected}set pending(e){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(e){!e||(this._connected=e.connected,this.accounts=e.accounts,this.chainId=e.chainId,this.bridge=e.bridge,this.key=e.key,this.clientId=e.clientId,this.clientMeta=e.clientMeta,this.peerId=e.peerId,this.peerMeta=e.peerMeta,this.handshakeId=e.handshakeId,this.handshakeTopic=e.handshakeTopic)}on(e,n){const r={event:e,callback:n};this._eventManager.subscribe(r)}off(e){this._eventManager.unsubscribe(e)}async createInstantRequest(e){this._key=await this._generateKey();const n=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(e)}]});this.handshakeId=n.id,this.handshakeTopic=ln(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error($r)});const r=()=>{this.killSession()};try{const a=await this._sendCallRequest(n);return a&&r(),a}catch(a){throw r(),a}}async connect(e){if(!this._qrcodeModal)throw new Error(qc);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(e),new Promise(async(n,r)=>{this.on("modal_closed",()=>r(new Error($r))),this.on("connect",(a,o)=>{if(a)return r(a);n(o.params[0])})}))}async createSession(e){if(this._connected)throw new Error(un);if(this.pending)return;this._key=await this._generateKey();const n=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:e&&e.chainId?e.chainId:null}]});this.handshakeId=n.id,this.handshakeTopic=ln(),this._sendSessionRequest(n,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(e){if(this._connected)throw new Error(un);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const n={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},r={id:this.handshakeId,jsonrpc:"2.0",result:n};this._sendResponse(r),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(e){if(this._connected)throw new Error(un);const n=e&&e.message?e.message:Ic,r=this._formatResponse({id:this.handshakeId,error:{message:n}});this._sendResponse(r),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:n}]}),this._removeStorageSession()}updateSession(e){if(!this._connected)throw new Error(Je);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const n={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},r=this._formatRequest({method:"wc_sessionUpdate",params:[n]});this._sendSessionRequest(r,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(e){const n=e?e.message:"Session Disconnected",r={approved:!1,chainId:null,networkId:null,accounts:null},a=this._formatRequest({method:"wc_sessionUpdate",params:[r]});await this._sendRequest(a),this._handleSessionDisconnect(n)}async sendTransaction(e){if(!this._connected)throw new Error(Je);const n=fn(e),r=this._formatRequest({method:"eth_sendTransaction",params:[n]});return await this._sendCallRequest(r)}async signTransaction(e){if(!this._connected)throw new Error(Je);const n=fn(e),r=this._formatRequest({method:"eth_signTransaction",params:[n]});return await this._sendCallRequest(r)}async signMessage(e){if(!this._connected)throw new Error(Je);const n=this._formatRequest({method:"eth_sign",params:e});return await this._sendCallRequest(n)}async signPersonalMessage(e){if(!this._connected)throw new Error(Je);e=Ur(e);const n=this._formatRequest({method:"personal_sign",params:e});return await this._sendCallRequest(n)}async signTypedData(e){if(!this._connected)throw new Error(Je);const n=this._formatRequest({method:"eth_signTypedData",params:e});return await this._sendCallRequest(n)}async updateChain(e){if(!this._connected)throw new Error("Session currently disconnected");const n=this._formatRequest({method:"wallet_updateChain",params:[e]});return await this._sendCallRequest(n)}unsafeSend(e,n){return this._sendRequest(e,n),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:n}]}),new Promise((r,a)=>{this._subscribeToResponse(e.id,(o,u)=>{if(o){a(o);return}if(!u)throw new Error(Oc);r(u)})})}async sendCustomRequest(e,n){if(!this._connected)throw new Error(Je);switch(e.method){case"eth_accounts":return this.accounts;case"eth_chainId":return oo(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":e.params&&(e.params[0]=fn(e.params[0]));break;case"personal_sign":e.params&&(e.params=Ur(e.params));break}const r=this._formatRequest(e);return await this._sendCallRequest(r,n)}approveRequest(e){if(ft(e)){const n=this._formatResponse(e);this._sendResponse(n)}else throw new Error(Nc)}rejectRequest(e){if(Ct(e)){const n=this._formatResponse(e);this._sendResponse(n)}else throw new Error(Bc)}transportClose(){this._transport.close()}async _sendRequest(e,n){const r=this._formatRequest(e),a=await this._encrypt(r),o=typeof(n==null?void 0:n.topic)<"u"?n.topic:this.peerId,u=JSON.stringify(a),g=typeof(n==null?void 0:n.forcePushNotification)<"u"?!n.forcePushNotification:dc(r);this._transport.send(u,o,g)}async _sendResponse(e){const n=await this._encrypt(e),r=this.peerId,a=JSON.stringify(n),o=!0;this._transport.send(a,r,o)}async _sendSessionRequest(e,n,r){this._sendRequest(e,r),this._subscribeToSessionResponse(e.id,n)}_sendCallRequest(e,n){return this._sendRequest(e,n),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:n}]}),this._subscribeToCallResponse(e.id)}_formatRequest(e){if(typeof e.method>"u")throw new Error(Lc);return{id:typeof e.id>"u"?sc():e.id,jsonrpc:"2.0",method:e.method,params:typeof e.params>"u"?[]:e.params}}_formatResponse(e){if(typeof e.id>"u")throw new Error(Pc);const n={id:e.id,jsonrpc:"2.0"};if(Ct(e)){const r=vc(e.error);return Object.assign(Object.assign(Object.assign({},n),e),{error:r})}else if(ft(e))return Object.assign(Object.assign({},n),e);throw new Error(Fr)}_handleSessionDisconnect(e){const n=e||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),$n(St)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:n}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(e,n){n?n.approved?(this._connected?(n.chainId&&(this.chainId=n.chainId),n.accounts&&(this.accounts=n.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,n.chainId&&(this.chainId=n.chainId),n.accounts&&(this.accounts=n.accounts),n.peerId&&!this.peerId&&(this.peerId=n.peerId),n.peerMeta&&!this.peerMeta&&(this.peerMeta=n.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(e):this._handleSessionDisconnect(e)}async _handleIncomingMessages(e){if(![this.clientId,this.handshakeTopic].includes(e.topic))return;let r;try{r=JSON.parse(e.payload)}catch{return}const a=await this._decrypt(r);a&&this._eventManager.trigger(a)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(e,n){this.on(`response:${e}`,n)}_subscribeToSessionResponse(e,n){this._subscribeToResponse(e,(r,a)=>{if(r){this._handleSessionResponse(r.message);return}ft(a)?this._handleSessionResponse(n,a.result):a.error&&a.error.message?this._handleSessionResponse(a.error.message):this._handleSessionResponse(n)})}_subscribeToCallResponse(e){return new Promise((n,r)=>{this._subscribeToResponse(e,(a,o)=>{if(a){r(a);return}ft(o)?n(o.result):o.error&&o.error.message?r(o.error):r(new Error(Fr))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(e,n)=>{const{request:r}=n.params[0];if($i()&&this._signingMethods.includes(r.method)){const a=Fn(St);a&&(window.location.href=a.href)}}),this.on("wc_sessionRequest",(e,n)=>{e&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:e.toString()}]}),this.handshakeId=n.id,this.peerId=n.params[0].peerId,this.peerMeta=n.params[0].peerMeta;const r=Object.assign(Object.assign({},n),{method:"session_request"});this._eventManager.trigger(r)}),this.on("wc_sessionUpdate",(e,n)=>{e&&this._handleSessionResponse(e.message),this._handleSessionResponse("Session disconnected",n.params[0])})}_initTransport(){this._transport.on("message",e=>this._handleIncomingMessages(e)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const e=this.protocol,n=this.handshakeTopic,r=this.version,a=encodeURIComponent(this.bridge),o=this.key;return`${e}:${n}@${r}?bridge=${a}&key=${o}`}_parseUri(e){const n=Cc(e);if(n.protocol===this.protocol){if(!n.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const r=n.handshakeTopic;if(!n.bridge)throw Error("Invalid or missing bridge url parameter value");const a=decodeURIComponent(n.bridge);if(!n.key)throw Error("Invalid or missing key parameter value");const o=n.key;return{handshakeTopic:r,bridge:a,key:o}}else throw new Error(Dc)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(e){const n=this._key;return this._cryptoLib&&n?await this._cryptoLib.encrypt(e,n):null}async _decrypt(e){const n=this._key;return this._cryptoLib&&n?await this._cryptoLib.decrypt(e,n):null}_getStorageSession(){let e=null;return this._sessionStorage&&(e=this._sessionStorage.getSession()),e}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(e){if(!e.url||typeof e.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!e.type||typeof e.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!e.token||typeof e.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const n={bridge:this.bridge,topic:this.clientId,type:e.type,token:e.token,peerName:"",language:e.language||""};this.on("connect",async(r,a)=>{if(r)throw r;if(e.peerMeta){const o=a.params[0].peerMeta.name;n.peerName=o}try{if(!(await(await fetch(`${e.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function Gc(t){return ot.getBrowerCrypto().getRandomValues(new Uint8Array(t))}const fo=256,uo=fo,Zc=fo,We="AES-CBC",Xc=`SHA-${uo}`,Sn="HMAC",el="encrypt",tl="decrypt",nl="sign",rl="verify";function il(t){return t===We?{length:uo,name:We}:{hash:{name:Xc},name:Sn}}function ol(t){return t===We?[el,tl]:[nl,rl]}async function Jn(t,e=We){return ot.getSubtleCrypto().importKey("raw",t,il(e),!0,ol(e))}async function sl(t,e,n){const r=ot.getSubtleCrypto(),a=await Jn(e,We),o=await r.encrypt({iv:t,name:We},a,n);return new Uint8Array(o)}async function al(t,e,n){const r=ot.getSubtleCrypto(),a=await Jn(e,We),o=await r.decrypt({iv:t,name:We},a,n);return new Uint8Array(o)}async function cl(t,e){const n=ot.getSubtleCrypto(),r=await Jn(t,Sn),a=await n.sign({length:Zc,name:Sn},r,e);return new Uint8Array(a)}function ll(t,e,n){return sl(t,e,n)}function fl(t,e,n){return al(t,e,n)}async function ho(t,e){return await cl(t,e)}async function po(t){const e=(t||256)/8,n=Gc(e);return tc(Pt(n))}async function go(t,e){const n=Ge(t.data),r=Ge(t.iv),a=Ge(t.hmac),o=Ye(a,!1),u=ro(n,r),g=await ho(e,u),m=Ye(g,!1);return He(o)===He(m)}async function ul(t,e,n){const r=Ze(En(e)),a=n||await po(128),o=Ze(En(a)),u=Ye(o,!1),g=JSON.stringify(t),m=Ja(g),b=await ll(o,r,m),_=Ye(b,!1),C=ro(b,o),A=await ho(r,C),T=Ye(A,!1);return{data:_,hmac:T,iv:u}}async function hl(t,e){const n=Ze(En(e));if(!n)throw new Error("Missing key: required for decryption");if(!await go(t,n))return null;const a=Ge(t.data),o=Ge(t.iv),u=await fl(o,n,a),g=za(u);let m;try{m=JSON.parse(g)}catch{return null}return m}const dl=Object.freeze(Object.defineProperty({__proto__:null,generateKey:po,verifyHmac:go,encrypt:ul,decrypt:hl},Symbol.toStringTag,{value:"Module"}));class pl extends Yc{constructor(e,n){super({cryptoLib:dl,connectorOpts:e,pushServerOpts:n})}}const gl=pi(Ba);var _t={},vl=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},vo={},ze={},ml={}.toString,Vn=Array.isArray||function(t){return ml.call(t)=="[object Array]"},_l=Vn;function yl(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},t.foo()===42}catch{return!1}}H.TYPED_ARRAY_SUPPORT=yl();var Hr=H.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function H(t,e,n){return!H.TYPED_ARRAY_SUPPORT&&!(this instanceof H)?new H(t,e,n):typeof t=="number"?mo(this,t):Cl(this,t,e,n)}H.TYPED_ARRAY_SUPPORT&&(H.prototype.__proto__=Uint8Array.prototype,H.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&H[Symbol.species]===H&&Object.defineProperty(H,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function Kn(t){if(t>=Hr)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Hr.toString(16)+" bytes");return t|0}function wl(t){return t!==t}function Xe(t,e){var n;return H.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(e),n.__proto__=H.prototype):(n=t,n===null&&(n=new H(e)),n.length=e),n}function mo(t,e){var n=Xe(t,e<0?0:Kn(e)|0);if(!H.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)n[r]=0;return n}function bl(t,e){var n=yo(e)|0,r=Xe(t,n),a=r.write(e);return a!==n&&(r=r.slice(0,a)),r}function Cn(t,e){for(var n=e.length<0?0:Kn(e.length)|0,r=Xe(t,n),a=0;a<n;a+=1)r[a]=e[a]&255;return r}function Ml(t,e,n,r){if(n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");var a;return n===void 0&&r===void 0?a=new Uint8Array(e):r===void 0?a=new Uint8Array(e,n):a=new Uint8Array(e,n,r),H.TYPED_ARRAY_SUPPORT?a.__proto__=H.prototype:a=Cn(t,a),a}function El(t,e){if(H.isBuffer(e)){var n=Kn(e.length)|0,r=Xe(t,n);return r.length===0||e.copy(r,0,0,n),r}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||wl(e.length)?Xe(t,0):Cn(t,e);if(e.type==="Buffer"&&Array.isArray(e.data))return Cn(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function _o(t,e){e=e||1/0;for(var n,r=t.length,a=null,o=[],u=0;u<r;++u){if(n=t.charCodeAt(u),n>55295&&n<57344){if(!a){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(u+1===r){(e-=3)>-1&&o.push(239,191,189);continue}a=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),a=n;continue}n=(a-55296<<10|n-56320)+65536}else a&&(e-=3)>-1&&o.push(239,191,189);if(a=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,n&63|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return o}function yo(t){if(H.isBuffer(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var e=t.length;return e===0?0:_o(t).length}function xl(t,e,n,r){for(var a=0;a<r&&!(a+n>=e.length||a>=t.length);++a)e[a+n]=t[a];return a}function Sl(t,e,n,r){return xl(_o(e,t.length-n),t,n,r)}function Cl(t,e,n,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?Ml(t,e,n,r):typeof e=="string"?bl(t,e):El(t,e)}H.prototype.write=function(e,n,r){n===void 0?(r=this.length,n=0):r===void 0&&typeof n=="string"?(r=this.length,n=0):isFinite(n)&&(n=n|0,isFinite(r)?r=r|0:r=void 0);var a=this.length-n;if((r===void 0||r>a)&&(r=a),e.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");return Sl(this,e,n,r)};H.prototype.slice=function(e,n){var r=this.length;e=~~e,n=n===void 0?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);var a;if(H.TYPED_ARRAY_SUPPORT)a=this.subarray(e,n),a.__proto__=H.prototype;else{var o=n-e;a=new H(o,void 0);for(var u=0;u<o;++u)a[u]=this[u+e]}return a};H.prototype.copy=function(e,n,r,a){if(r||(r=0),!a&&a!==0&&(a=this.length),n>=e.length&&(n=e.length),n||(n=0),a>0&&a<r&&(a=r),a===r||e.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-n<a-r&&(a=e.length-n+r);var o=a-r,u;if(this===e&&r<n&&n<a)for(u=o-1;u>=0;--u)e[u+n]=this[u+r];else if(o<1e3||!H.TYPED_ARRAY_SUPPORT)for(u=0;u<o;++u)e[u+n]=this[u+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),n);return o};H.prototype.fill=function(e,n,r){if(typeof e=="string"){if(typeof n=="string"?(n=0,r=this.length):typeof r=="string"&&(r=this.length),e.length===1){var a=e.charCodeAt(0);a<256&&(e=a)}}else typeof e=="number"&&(e=e&255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n=n>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);var o;if(typeof e=="number")for(o=n;o<r;++o)this[o]=e;else{var u=H.isBuffer(e)?e:new H(e),g=u.length;for(o=0;o<r-n;++o)this[o+n]=u[o%g]}return this};H.concat=function(e,n){if(!_l(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Xe(null,0);var r;if(n===void 0)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var a=mo(null,n),o=0;for(r=0;r<e.length;++r){var u=e[r];if(!H.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(a,o),o+=u.length}return a};H.byteLength=yo;H.prototype._isBuffer=!0;H.isBuffer=function(e){return!!(e!=null&&e._isBuffer)};ze.alloc=function(t){var e=new H(t);return e.fill(0),e};ze.from=function(t){return new H(t)};var Ie={},Qn,Rl=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ie.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Ie.getSymbolTotalCodewords=function(e){return Rl[e]};Ie.getBCHDigit=function(t){for(var e=0;t!==0;)e++,t>>>=1;return e};Ie.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Qn=e};Ie.isKanjiModeEnabled=function(){return typeof Qn<"u"};Ie.toSJIS=function(e){return Qn(e)};var Ut={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");var r=n.toLowerCase();switch(r){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,a){if(t.isValid(r))return r;try{return e(r)}catch{return a}}})(Ut);function wo(){this.buffer=[],this.length=0}wo.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(var n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Tl=wo,Wr=ze;function yt(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=Wr.alloc(t*t),this.reservedBit=Wr.alloc(t*t)}yt.prototype.set=function(t,e,n,r){var a=t*this.size+e;this.data[a]=n,r&&(this.reservedBit[a]=!0)};yt.prototype.get=function(t,e){return this.data[t*this.size+e]};yt.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};yt.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var kl=yt,bo={};(function(t){var e=Ie.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];for(var a=Math.floor(r/7)+2,o=e(r),u=o===145?26:Math.ceil((o-13)/(2*a-2))*2,g=[o-7],m=1;m<a-1;m++)g[m]=g[m-1]-u;return g.push(6),g.reverse()},t.getPositions=function(r){for(var a=[],o=t.getRowColCoords(r),u=o.length,g=0;g<u;g++)for(var m=0;m<u;m++)g===0&&m===0||g===0&&m===u-1||g===u-1&&m===0||a.push([o[g],o[m]]);return a}})(bo);var Mo={},Al=Ie.getSymbolSize,zr=7;Mo.getPositions=function(e){var n=Al(e);return[[0,0],[n-zr,0],[0,n-zr]]};var Eo={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},t.from=function(a){return t.isValid(a)?parseInt(a,10):void 0},t.getPenaltyN1=function(a){for(var o=a.size,u=0,g=0,m=0,b=null,_=null,C=0;C<o;C++){g=m=0,b=_=null;for(var A=0;A<o;A++){var T=a.get(C,A);T===b?g++:(g>=5&&(u+=e.N1+(g-5)),b=T,g=1),T=a.get(A,C),T===_?m++:(m>=5&&(u+=e.N1+(m-5)),_=T,m=1)}g>=5&&(u+=e.N1+(g-5)),m>=5&&(u+=e.N1+(m-5))}return u},t.getPenaltyN2=function(a){for(var o=a.size,u=0,g=0;g<o-1;g++)for(var m=0;m<o-1;m++){var b=a.get(g,m)+a.get(g,m+1)+a.get(g+1,m)+a.get(g+1,m+1);(b===4||b===0)&&u++}return u*e.N2},t.getPenaltyN3=function(a){for(var o=a.size,u=0,g=0,m=0,b=0;b<o;b++){g=m=0;for(var _=0;_<o;_++)g=g<<1&2047|a.get(b,_),_>=10&&(g===1488||g===93)&&u++,m=m<<1&2047|a.get(_,b),_>=10&&(m===1488||m===93)&&u++}return u*e.N3},t.getPenaltyN4=function(a){for(var o=0,u=a.data.length,g=0;g<u;g++)o+=a.data[g];var m=Math.abs(Math.ceil(o*100/u/5)-10);return m*e.N4};function n(r,a,o){switch(r){case t.Patterns.PATTERN000:return(a+o)%2===0;case t.Patterns.PATTERN001:return a%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(a+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return a*o%2+a*o%3===0;case t.Patterns.PATTERN110:return(a*o%2+a*o%3)%2===0;case t.Patterns.PATTERN111:return(a*o%3+(a+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(a,o){for(var u=o.size,g=0;g<u;g++)for(var m=0;m<u;m++)o.isReserved(m,g)||o.xor(m,g,n(a,m,g))},t.getBestMask=function(a,o){for(var u=Object.keys(t.Patterns).length,g=0,m=1/0,b=0;b<u;b++){o(b),t.applyMask(b,a);var _=t.getPenaltyN1(a)+t.getPenaltyN2(a)+t.getPenaltyN3(a)+t.getPenaltyN4(a);t.applyMask(b,a),_<m&&(m=_,g=b)}return g}})(Eo);var Dt={},De=Ut,Mt=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Et=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Dt.getBlocksCount=function(e,n){switch(n){case De.L:return Mt[(e-1)*4+0];case De.M:return Mt[(e-1)*4+1];case De.Q:return Mt[(e-1)*4+2];case De.H:return Mt[(e-1)*4+3];default:return}};Dt.getTotalCodewordsCount=function(e,n){switch(n){case De.L:return Et[(e-1)*4+0];case De.M:return Et[(e-1)*4+1];case De.Q:return Et[(e-1)*4+2];case De.H:return Et[(e-1)*4+3];default:return}};var xo={},qt={},So=ze,ht=So.alloc(512),Rt=So.alloc(256);(function(){for(var e=1,n=0;n<255;n++)ht[n]=e,Rt[e]=n,e<<=1,e&256&&(e^=285);for(n=255;n<512;n++)ht[n]=ht[n-255]})();qt.log=function(e){if(e<1)throw new Error("log("+e+")");return Rt[e]};qt.exp=function(e){return ht[e]};qt.mul=function(e,n){return e===0||n===0?0:ht[Rt[e]+Rt[n]]};(function(t){var e=ze,n=qt;t.mul=function(a,o){for(var u=e.alloc(a.length+o.length-1),g=0;g<a.length;g++)for(var m=0;m<o.length;m++)u[g+m]^=n.mul(a[g],o[m]);return u},t.mod=function(a,o){for(var u=e.from(a);u.length-o.length>=0;){for(var g=u[0],m=0;m<o.length;m++)u[m]^=n.mul(o[m],g);for(var b=0;b<u.length&&u[b]===0;)b++;u=u.slice(b)}return u},t.generateECPolynomial=function(a){for(var o=e.from([1]),u=0;u<a;u++)o=t.mul(o,[1,n.exp(u)]);return o}})(xo);var jr=ze,Co=xo,Il=Es.Buffer;function Yn(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Yn.prototype.initialize=function(e){this.degree=e,this.genPoly=Co.generateECPolynomial(this.degree)};Yn.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var n=jr.alloc(this.degree),r=Il.concat([e,n],e.length+this.degree),a=Co.mod(r,this.genPoly),o=this.degree-a.length;if(o>0){var u=jr.alloc(this.degree);return a.copy(u,o),u}return a};var Ol=Yn,Ro={},je={},Gn={};Gn.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Ne={},To="[0-9]+",Nl="[A-Z $%*+\\-./:]+",gt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";gt=gt.replace(/u/g,"\\u");var Bl="(?:(?![A-Z0-9 $%*+\\-./:]|"+gt+`)(?:.|[\r
]))+`;Ne.KANJI=new RegExp(gt,"g");Ne.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ne.BYTE=new RegExp(Bl,"g");Ne.NUMERIC=new RegExp(To,"g");Ne.ALPHANUMERIC=new RegExp(Nl,"g");var Ll=new RegExp("^"+gt+"$"),Pl=new RegExp("^"+To+"$"),Ul=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ne.testKanji=function(e){return Ll.test(e)};Ne.testNumeric=function(e){return Pl.test(e)};Ne.testAlphanumeric=function(e){return Ul.test(e)};(function(t){var e=Gn,n=Ne;t.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,u){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(u))throw new Error("Invalid version: "+u);return u>=1&&u<10?o.ccBits[0]:u<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return n.testNumeric(o)?t.NUMERIC:n.testAlphanumeric(o)?t.ALPHANUMERIC:n.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function r(a){if(typeof a!="string")throw new Error("Param is not a string");var o=a.toLowerCase();switch(o){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+a)}}t.from=function(o,u){if(t.isValid(o))return o;try{return r(o)}catch{return u}}})(je);(function(t){var e=Ie,n=Dt,r=Ut,a=je,o=Gn,u=Vn,g=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,m=e.getBCHDigit(g);function b(T,k,I){for(var w=1;w<=40;w++)if(k<=t.getCapacity(w,I,T))return w}function _(T,k){return a.getCharCountIndicator(T,k)+4}function C(T,k){var I=0;return T.forEach(function(w){var E=_(w.mode,k);I+=E+w.getBitsLength()}),I}function A(T,k){for(var I=1;I<=40;I++){var w=C(T,I);if(w<=t.getCapacity(I,k,a.MIXED))return I}}t.from=function(k,I){return o.isValid(k)?parseInt(k,10):I},t.getCapacity=function(k,I,w){if(!o.isValid(k))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=a.BYTE);var E=e.getSymbolTotalCodewords(k),S=n.getTotalCodewordsCount(k,I),x=(E-S)*8;if(w===a.MIXED)return x;var R=x-_(w,k);switch(w){case a.NUMERIC:return Math.floor(R/10*3);case a.ALPHANUMERIC:return Math.floor(R/11*2);case a.KANJI:return Math.floor(R/13);case a.BYTE:default:return Math.floor(R/8)}},t.getBestVersionForData=function(k,I){var w,E=r.from(I,r.M);if(u(k)){if(k.length>1)return A(k,E);if(k.length===0)return 1;w=k[0]}else w=k;return b(w.mode,w.getLength(),E)},t.getEncodedBits=function(k){if(!o.isValid(k)||k<7)throw new Error("Invalid QR Code version");for(var I=k<<12;e.getBCHDigit(I)-m>=0;)I^=g<<e.getBCHDigit(I)-m;return k<<12|I}})(Ro);var ko={},Rn=Ie,Ao=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,Dl=1<<14|1<<12|1<<10|1<<4|1<<1,Jr=Rn.getBCHDigit(Ao);ko.getEncodedBits=function(e,n){for(var r=e.bit<<3|n,a=r<<10;Rn.getBCHDigit(a)-Jr>=0;)a^=Ao<<Rn.getBCHDigit(a)-Jr;return(r<<10|a)^Dl};var Io={},ql=je;function et(t){this.mode=ql.NUMERIC,this.data=t.toString()}et.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};et.prototype.getLength=function(){return this.data.length};et.prototype.getBitsLength=function(){return et.getBitsLength(this.data.length)};et.prototype.write=function(e){var n,r,a;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),a=parseInt(r,10),e.put(a,10);var o=this.data.length-n;o>0&&(r=this.data.substr(n),a=parseInt(r,10),e.put(a,o*3+1))};var Fl=et,$l=je,hn=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function tt(t){this.mode=$l.ALPHANUMERIC,this.data=t}tt.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};tt.prototype.getLength=function(){return this.data.length};tt.prototype.getBitsLength=function(){return tt.getBitsLength(this.data.length)};tt.prototype.write=function(e){var n;for(n=0;n+2<=this.data.length;n+=2){var r=hn.indexOf(this.data[n])*45;r+=hn.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(hn.indexOf(this.data[n]),6)};var Hl=tt,Wl=ze,zl=je;function nt(t){this.mode=zl.BYTE,this.data=Wl.from(t)}nt.getBitsLength=function(e){return e*8};nt.prototype.getLength=function(){return this.data.length};nt.prototype.getBitsLength=function(){return nt.getBitsLength(this.data.length)};nt.prototype.write=function(t){for(var e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var jl=nt,Jl=je,Vl=Ie;function rt(t){this.mode=Jl.KANJI,this.data=t}rt.getBitsLength=function(e){return e*13};rt.prototype.getLength=function(){return this.data.length};rt.prototype.getBitsLength=function(){return rt.getBitsLength(this.data.length)};rt.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var n=Vl.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var Kl=rt,Oo={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,a){var o={},u={};u[r]=0;var g=e.PriorityQueue.make();g.push(r,0);for(var m,b,_,C,A,T,k,I,w;!g.empty();){m=g.pop(),b=m.value,C=m.cost,A=n[b]||{};for(_ in A)A.hasOwnProperty(_)&&(T=A[_],k=C+T,I=u[_],w=typeof u[_]>"u",(w||I>k)&&(u[_]=k,g.push(_,k),o[_]=b))}if(typeof a<"u"&&typeof u[a]>"u"){var E=["Could not find a path from ",r," to ",a,"."].join("");throw new Error(E)}return o},extract_shortest_path_from_predecessor_list:function(n,r){for(var a=[],o=r;o;)a.push(o),n[o],o=n[o];return a.reverse(),a},find_path:function(n,r,a){var o=e.single_source_shortest_paths(n,r,a);return e.extract_shortest_path_from_predecessor_list(o,a)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,a={},o;n=n||{};for(o in r)r.hasOwnProperty(o)&&(a[o]=r[o]);return a.queue=[],a.sorter=n.sorter||r.default_sorter,a},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var a={value:n,cost:r};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Oo);(function(t){var e=je,n=Fl,r=Hl,a=jl,o=Kl,u=Ne,g=Ie,m=Oo.exports;function b(E){return unescape(encodeURIComponent(E)).length}function _(E,S,x){for(var R=[],N;(N=E.exec(x))!==null;)R.push({data:N[0],index:N.index,mode:S,length:N[0].length});return R}function C(E){var S=_(u.NUMERIC,e.NUMERIC,E),x=_(u.ALPHANUMERIC,e.ALPHANUMERIC,E),R,N;g.isKanjiModeEnabled()?(R=_(u.BYTE,e.BYTE,E),N=_(u.KANJI,e.KANJI,E)):(R=_(u.BYTE_KANJI,e.BYTE,E),N=[]);var L=S.concat(x,R,N);return L.sort(function(D,F){return D.index-F.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function A(E,S){switch(S){case e.NUMERIC:return n.getBitsLength(E);case e.ALPHANUMERIC:return r.getBitsLength(E);case e.KANJI:return o.getBitsLength(E);case e.BYTE:return a.getBitsLength(E)}}function T(E){return E.reduce(function(S,x){var R=S.length-1>=0?S[S.length-1]:null;return R&&R.mode===x.mode?(S[S.length-1].data+=x.data,S):(S.push(x),S)},[])}function k(E){for(var S=[],x=0;x<E.length;x++){var R=E[x];switch(R.mode){case e.NUMERIC:S.push([R,{data:R.data,mode:e.ALPHANUMERIC,length:R.length},{data:R.data,mode:e.BYTE,length:R.length}]);break;case e.ALPHANUMERIC:S.push([R,{data:R.data,mode:e.BYTE,length:R.length}]);break;case e.KANJI:S.push([R,{data:R.data,mode:e.BYTE,length:b(R.data)}]);break;case e.BYTE:S.push([{data:R.data,mode:e.BYTE,length:b(R.data)}])}}return S}function I(E,S){for(var x={},R={start:{}},N=["start"],L=0;L<E.length;L++){for(var D=E[L],F=[],V=0;V<D.length;V++){var v=D[V],i=""+L+V;F.push(i),x[i]={node:v,lastCount:0},R[i]={};for(var l=0;l<N.length;l++){var c=N[l];x[c]&&x[c].node.mode===v.mode?(R[c][i]=A(x[c].lastCount+v.length,v.mode)-A(x[c].lastCount,v.mode),x[c].lastCount+=v.length):(x[c]&&(x[c].lastCount=v.length),R[c][i]=A(v.length,v.mode)+4+e.getCharCountIndicator(v.mode,S))}}N=F}for(l=0;l<N.length;l++)R[N[l]].end=0;return{map:R,table:x}}function w(E,S){var x,R=e.getBestModeForData(E);if(x=e.from(S,R),x!==e.BYTE&&x.bit<R.bit)throw new Error('"'+E+'" cannot be encoded with mode '+e.toString(x)+`.
 Suggested mode is: `+e.toString(R));switch(x===e.KANJI&&!g.isKanjiModeEnabled()&&(x=e.BYTE),x){case e.NUMERIC:return new n(E);case e.ALPHANUMERIC:return new r(E);case e.KANJI:return new o(E);case e.BYTE:return new a(E)}}t.fromArray=function(S){return S.reduce(function(x,R){return typeof R=="string"?x.push(w(R,null)):R.data&&x.push(w(R.data,R.mode)),x},[])},t.fromString=function(S,x){for(var R=C(S,g.isKanjiModeEnabled()),N=k(R),L=I(N,x),D=m.find_path(L.map,"start","end"),F=[],V=1;V<D.length-1;V++)F.push(L.table[D[V]].node);return t.fromArray(T(F))},t.rawSplit=function(S){return t.fromArray(C(S,g.isKanjiModeEnabled()))}})(Io);var Vr=ze,Ft=Ie,dn=Ut,Ql=Tl,Yl=kl,Gl=bo,Zl=Mo,Tn=Eo,kn=Dt,Xl=Ol,Tt=Ro,ef=ko,tf=je,pn=Io,nf=Vn;function rf(t,e){for(var n=t.size,r=Zl.getPositions(e),a=0;a<r.length;a++)for(var o=r[a][0],u=r[a][1],g=-1;g<=7;g++)if(!(o+g<=-1||n<=o+g))for(var m=-1;m<=7;m++)u+m<=-1||n<=u+m||(g>=0&&g<=6&&(m===0||m===6)||m>=0&&m<=6&&(g===0||g===6)||g>=2&&g<=4&&m>=2&&m<=4?t.set(o+g,u+m,!0,!0):t.set(o+g,u+m,!1,!0))}function of(t){for(var e=t.size,n=8;n<e-8;n++){var r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function sf(t,e){for(var n=Gl.getPositions(e),r=0;r<n.length;r++)for(var a=n[r][0],o=n[r][1],u=-2;u<=2;u++)for(var g=-2;g<=2;g++)u===-2||u===2||g===-2||g===2||u===0&&g===0?t.set(a+u,o+g,!0,!0):t.set(a+u,o+g,!1,!0)}function af(t,e){for(var n=t.size,r=Tt.getEncodedBits(e),a,o,u,g=0;g<18;g++)a=Math.floor(g/3),o=g%3+n-8-3,u=(r>>g&1)===1,t.set(a,o,u,!0),t.set(o,a,u,!0)}function gn(t,e,n){var r=t.size,a=ef.getEncodedBits(e,n),o,u;for(o=0;o<15;o++)u=(a>>o&1)===1,o<6?t.set(o,8,u,!0):o<8?t.set(o+1,8,u,!0):t.set(r-15+o,8,u,!0),o<8?t.set(8,r-o-1,u,!0):o<9?t.set(8,15-o-1+1,u,!0):t.set(8,15-o-1,u,!0);t.set(r-8,8,1,!0)}function cf(t,e){for(var n=t.size,r=-1,a=n-1,o=7,u=0,g=n-1;g>0;g-=2)for(g===6&&g--;;){for(var m=0;m<2;m++)if(!t.isReserved(a,g-m)){var b=!1;u<e.length&&(b=(e[u]>>>o&1)===1),t.set(a,g-m,b),o--,o===-1&&(u++,o=7)}if(a+=r,a<0||n<=a){a-=r,r=-r;break}}}function lf(t,e,n){var r=new Ql;n.forEach(function(b){r.put(b.mode.bit,4),r.put(b.getLength(),tf.getCharCountIndicator(b.mode,t)),b.write(r)});var a=Ft.getSymbolTotalCodewords(t),o=kn.getTotalCodewordsCount(t,e),u=(a-o)*8;for(r.getLengthInBits()+4<=u&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);for(var g=(u-r.getLengthInBits())/8,m=0;m<g;m++)r.put(m%2?17:236,8);return ff(r,t,e)}function ff(t,e,n){for(var r=Ft.getSymbolTotalCodewords(e),a=kn.getTotalCodewordsCount(e,n),o=r-a,u=kn.getBlocksCount(e,n),g=r%u,m=u-g,b=Math.floor(r/u),_=Math.floor(o/u),C=_+1,A=b-_,T=new Xl(A),k=0,I=new Array(u),w=new Array(u),E=0,S=Vr.from(t.buffer),x=0;x<u;x++){var R=x<m?_:C;I[x]=S.slice(k,k+R),w[x]=T.encode(I[x]),k+=R,E=Math.max(E,R)}var N=Vr.alloc(r),L=0,D,F;for(D=0;D<E;D++)for(F=0;F<u;F++)D<I[F].length&&(N[L++]=I[F][D]);for(D=0;D<A;D++)for(F=0;F<u;F++)N[L++]=w[F][D];return N}function uf(t,e,n,r){var a;if(nf(t))a=pn.fromArray(t);else if(typeof t=="string"){var o=e;if(!o){var u=pn.rawSplit(t);o=Tt.getBestVersionForData(u,n)}a=pn.fromString(t,o||40)}else throw new Error("Invalid data");var g=Tt.getBestVersionForData(a,n);if(!g)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=g;else if(e<g)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+g+`.
`);var m=lf(e,n,a),b=Ft.getSymbolSize(e),_=new Yl(b);return rf(_,e),of(_),sf(_,e),gn(_,n,0),e>=7&&af(_,e),cf(_,m),isNaN(r)&&(r=Tn.getBestMask(_,gn.bind(null,_,n))),Tn.applyMask(r,_),gn(_,n,r),{modules:_,version:e,errorCorrectionLevel:n,maskPattern:r,segments:a}}vo.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");var r=dn.M,a,o;return typeof n<"u"&&(r=dn.from(n.errorCorrectionLevel,dn.M),a=Tt.from(n.version),o=Tn.from(n.maskPattern),n.toSJISFunc&&Ft.setToSJISFunction(n.toSJISFunc)),uf(e,a,r,o)};var No={},Zn={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");var r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");var a=parseInt(r.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});var a=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,u=r.scale||4;return{width:o,scale:o?4:u,margin:a,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,a){return a.width&&a.width>=r+a.margin*2?a.width/(r+a.margin*2):a.scale},t.getImageWidth=function(r,a){var o=t.getScale(r,a);return Math.floor((r+a.margin*2)*o)},t.qrToImageData=function(r,a,o){for(var u=a.modules.size,g=a.modules.data,m=t.getScale(u,o),b=Math.floor((u+o.margin*2)*m),_=o.margin*m,C=[o.color.light,o.color.dark],A=0;A<b;A++)for(var T=0;T<b;T++){var k=(A*b+T)*4,I=o.color.light;if(A>=_&&T>=_&&A<b-_&&T<b-_){var w=Math.floor((A-_)/m),E=Math.floor((T-_)/m);I=C[g[w*u+E]?1:0]}r[k++]=I.r,r[k++]=I.g,r[k++]=I.b,r[k]=I.a}}})(Zn);(function(t){var e=Zn;function n(a,o,u){a.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=u,o.width=u,o.style.height=u+"px",o.style.width=u+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,u,g){var m=g,b=u;typeof m>"u"&&(!u||!u.getContext)&&(m=u,u=void 0),u||(b=r()),m=e.getOptions(m);var _=e.getImageWidth(o.modules.size,m),C=b.getContext("2d"),A=C.createImageData(_,_);return e.qrToImageData(A.data,o,m),n(C,b,_),C.putImageData(A,0,0),b},t.renderToDataURL=function(o,u,g){var m=g;typeof m>"u"&&(!u||!u.getContext)&&(m=u,u=void 0),m||(m={});var b=t.render(o,u,m),_=m.type||"image/png",C=m.rendererOpts||{};return b.toDataURL(_,C.quality)}})(No);var Bo={},hf=Zn;function Kr(t,e){var n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function vn(t,e,n){var r=t+e;return typeof n<"u"&&(r+=" "+n),r}function df(t,e,n){for(var r="",a=0,o=!1,u=0,g=0;g<t.length;g++){var m=Math.floor(g%e),b=Math.floor(g/e);!m&&!o&&(o=!0),t[g]?(u++,g>0&&m>0&&t[g-1]||(r+=o?vn("M",m+n,.5+b+n):vn("m",a,0),a=0,o=!1),m+1<e&&t[g+1]||(r+=vn("h",u),u=0)):a++}return r}Bo.render=function(e,n,r){var a=hf.getOptions(n),o=e.modules.size,u=e.modules.data,g=o+a.margin*2,m=a.color.light.a?"<path "+Kr(a.color.light,"fill")+' d="M0 0h'+g+"v"+g+'H0z"/>':"",b="<path "+Kr(a.color.dark,"stroke")+' d="'+df(u,o,a.margin)+'"/>',_='viewBox="0 0 '+g+" "+g+'"',C=a.width?'width="'+a.width+'" height="'+a.width+'" ':"",A='<svg xmlns="http://www.w3.org/2000/svg" '+C+_+' shape-rendering="crispEdges">'+m+b+`</svg>
`;return typeof r=="function"&&r(null,A),A};var pf=vl,An=vo,Lo=No,gf=Bo;function Xn(t,e,n,r,a){var o=[].slice.call(arguments,1),u=o.length,g=typeof o[u-1]=="function";if(!g&&!pf())throw new Error("Callback required as last argument");if(g){if(u<2)throw new Error("Too few arguments provided");u===2?(a=n,n=e,e=r=void 0):u===3&&(e.getContext&&typeof a>"u"?(a=r,r=void 0):(a=r,r=n,n=e,e=void 0))}else{if(u<1)throw new Error("Too few arguments provided");return u===1?(n=e,e=r=void 0):u===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(b,_){try{var C=An.create(n,r);b(t(C,e,r))}catch(A){_(A)}})}try{var m=An.create(n,r);a(null,t(m,e,r))}catch(b){a(b)}}_t.create=An.create;_t.toCanvas=Xn.bind(null,Lo.render);_t.toDataURL=Xn.bind(null,Lo.renderToDataURL);_t.toString=Xn.bind(null,function(t,e,n){return gf.render(t,n)});var vf=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],r=0;r<t.rangeCount;r++)n.push(t.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||n.forEach(function(a){t.addRange(a)}),e&&e.focus()}},mf=vf,Qr={"text/plain":"Text","text/html":"Url",default:"Text"},_f="Copy to clipboard: #{key}, Enter";function yf(t){var e=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function wf(t,e){var n,r,a,o,u,g,m=!1;e||(e={}),n=e.debug||!1;try{a=mf(),o=document.createRange(),u=document.getSelection(),g=document.createElement("span"),g.textContent=t,g.ariaHidden="true",g.style.all="unset",g.style.position="fixed",g.style.top=0,g.style.clip="rect(0, 0, 0, 0)",g.style.whiteSpace="pre",g.style.webkitUserSelect="text",g.style.MozUserSelect="text",g.style.msUserSelect="text",g.style.userSelect="text",g.addEventListener("copy",function(_){if(_.stopPropagation(),e.format)if(_.preventDefault(),typeof _.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var C=Qr[e.format]||Qr.default;window.clipboardData.setData(C,t)}else _.clipboardData.clearData(),_.clipboardData.setData(e.format,t);e.onCopy&&(_.preventDefault(),e.onCopy(_.clipboardData))}),document.body.appendChild(g),o.selectNodeContents(g),u.addRange(o);var b=document.execCommand("copy");if(!b)throw new Error("copy command was unsuccessful");m=!0}catch(_){n&&console.error("unable to copy using execCommand: ",_),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),m=!0}catch(C){n&&console.error("unable to copy using clipboardData: ",C),n&&console.error("falling back to prompt"),r=yf("message"in e?e.message:_f),window.prompt(r,t)}}finally{u&&(typeof u.removeRange=="function"?u.removeRange(o):u.removeAllRanges()),g&&document.body.removeChild(g),a()}return m}var bf=wf,q,dt,er,Po,Yr,tr,Uo,Le={},$t=[],Mf=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function Be(t,e){for(var n in e)t[n]=e[n];return t}function Do(t){var e=t.parentNode;e&&e.removeChild(t)}function Pe(t,e,n){var r,a=arguments,o={};for(r in e)r!=="key"&&r!=="ref"&&(o[r]=e[r]);if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(a[r]);if(n!=null&&(o.children=n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)o[r]===void 0&&(o[r]=t.defaultProps[r]);return kt(t,o,e&&e.key,e&&e.ref,null)}function kt(t,e,n,r,a){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:a};return a==null&&(o.__v=o),q.vnode&&q.vnode(o),o}function qo(){return{}}function wt(t){return t.children}function Oe(t,e){this.props=t,this.context=e}function vt(t,e){if(e==null)return t.__?vt(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?vt(t):null}function Fo(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Fo(t)}}function xt(t){(!t.__d&&(t.__d=!0)&&dt.push(t)&&!er++||Yr!==q.debounceRendering)&&((Yr=q.debounceRendering)||Po)(Ef)}function Ef(){for(var t;er=dt.length;)t=dt.sort(function(e,n){return e.__v.__b-n.__v.__b}),dt=[],t.some(function(e){var n,r,a,o,u,g,m;e.__d&&(g=(u=(n=e).__v).__e,(m=n.__P)&&(r=[],(a=Be({},u)).__v=a,o=nr(m,u,a,n.__n,m.ownerSVGElement!==void 0,null,r,g==null?vt(u):g),Ho(r,u),o!=g&&Fo(u)))})}function $o(t,e,n,r,a,o,u,g,m){var b,_,C,A,T,k,I,w=n&&n.__k||$t,E=w.length;if(g==Le&&(g=o!=null?o[0]:E?vt(n,0):null),b=0,e.__k=$e(e.__k,function(S){if(S!=null){if(S.__=e,S.__b=e.__b+1,(C=w[b])===null||C&&S.key==C.key&&S.type===C.type)w[b]=void 0;else for(_=0;_<E;_++){if((C=w[_])&&S.key==C.key&&S.type===C.type){w[_]=void 0;break}C=null}if(A=nr(t,S,C=C||Le,r,a,o,u,g,m),(_=S.ref)&&C.ref!=_&&(I||(I=[]),C.ref&&I.push(C.ref,null,S),I.push(_,S.__c||A,S)),A!=null){var x;if(k==null&&(k=A),S.__d!==void 0)x=S.__d,S.__d=void 0;else if(o==C||A!=g||A.parentNode==null){e:if(g==null||g.parentNode!==t)t.appendChild(A),x=null;else{for(T=g,_=0;(T=T.nextSibling)&&_<E;_+=2)if(T==A)break e;t.insertBefore(A,g),x=g}e.type=="option"&&(t.value="")}g=x!==void 0?x:A.nextSibling,typeof e.type=="function"&&(e.__d=g)}else g&&C.__e==g&&g.parentNode!=t&&(g=vt(C))}return b++,S}),e.__e=k,o!=null&&typeof e.type!="function")for(b=o.length;b--;)o[b]!=null&&Do(o[b]);for(b=E;b--;)w[b]!=null&&pt(w[b],w[b]);if(I)for(b=0;b<I.length;b++)Wo(I[b],I[++b],I[++b])}function $e(t,e,n){if(n==null&&(n=[]),t==null||typeof t=="boolean")e&&n.push(e(null));else if(Array.isArray(t))for(var r=0;r<t.length;r++)$e(t[r],e,n);else n.push(e?e(typeof t=="string"||typeof t=="number"?kt(null,t,null,null,t):t.__e!=null||t.__c!=null?kt(t.type,t.props,t.key,null,t.__v):t):t);return n}function xf(t,e,n,r,a){var o;for(o in n)o==="children"||o==="key"||o in e||At(t,o,null,n[o],r);for(o in e)a&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||n[o]===e[o]||At(t,o,e[o],n[o],r)}function Gr(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=typeof n=="number"&&Mf.test(e)===!1?n+"px":n==null?"":n}function At(t,e,n,r,a){var o,u,g,m,b;if(a?e==="className"&&(e="class"):e==="class"&&(e="className"),e==="style")if(o=t.style,typeof n=="string")o.cssText=n;else{if(typeof r=="string"&&(o.cssText="",r=null),r)for(m in r)n&&m in n||Gr(o,m,"");if(n)for(b in n)r&&n[b]===r[b]||Gr(o,b,n[b])}else e[0]==="o"&&e[1]==="n"?(u=e!==(e=e.replace(/Capture$/,"")),g=e.toLowerCase(),e=(g in t?g:e).slice(2),n?(r||t.addEventListener(e,Zr,u),(t.l||(t.l={}))[e]=n):t.removeEventListener(e,Zr,u)):e!=="list"&&e!=="tagName"&&e!=="form"&&e!=="type"&&e!=="size"&&!a&&e in t?t[e]=n==null?"":n:typeof n!="function"&&e!=="dangerouslySetInnerHTML"&&(e!==(e=e.replace(/^xlink:?/,""))?n==null||n===!1?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):n==null||n===!1&&!/^ar/.test(e)?t.removeAttribute(e):t.setAttribute(e,n))}function Zr(t){this.l[t.type](q.event?q.event(t):t)}function nr(t,e,n,r,a,o,u,g,m){var b,_,C,A,T,k,I,w,E,S,x=e.type;if(e.constructor!==void 0)return null;(b=q.__b)&&b(e);try{e:if(typeof x=="function"){if(w=e.props,E=(b=x.contextType)&&r[b.__c],S=b?E?E.props.value:b.__:r,n.__c?I=(_=e.__c=n.__c).__=_.__E:("prototype"in x&&x.prototype.render?e.__c=_=new x(w,S):(e.__c=_=new Oe(w,S),_.constructor=x,_.render=Cf),E&&E.sub(_),_.props=w,_.state||(_.state={}),_.context=S,_.__n=r,C=_.__d=!0,_.__h=[]),_.__s==null&&(_.__s=_.state),x.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=Be({},_.__s)),Be(_.__s,x.getDerivedStateFromProps(w,_.__s))),A=_.props,T=_.state,C)x.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(x.getDerivedStateFromProps==null&&w!==A&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(w,S),!_.__e&&_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(w,_.__s,S)===!1||e.__v===n.__v&&!_.__){for(_.props=w,_.state=_.__s,e.__v!==n.__v&&(_.__d=!1),_.__v=e,e.__e=n.__e,e.__k=n.__k,_.__h.length&&u.push(_),b=0;b<e.__k.length;b++)e.__k[b]&&(e.__k[b].__=e);break e}_.componentWillUpdate!=null&&_.componentWillUpdate(w,_.__s,S),_.componentDidUpdate!=null&&_.__h.push(function(){_.componentDidUpdate(A,T,k)})}_.context=S,_.props=w,_.state=_.__s,(b=q.__r)&&b(e),_.__d=!1,_.__v=e,_.__P=t,b=_.render(_.props,_.state,_.context),e.__k=b!=null&&b.type==wt&&b.key==null?b.props.children:Array.isArray(b)?b:[b],_.getChildContext!=null&&(r=Be(Be({},r),_.getChildContext())),C||_.getSnapshotBeforeUpdate==null||(k=_.getSnapshotBeforeUpdate(A,T)),$o(t,e,n,r,a,o,u,g,m),_.base=e.__e,_.__h.length&&u.push(_),I&&(_.__E=_.__=null),_.__e=!1}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Sf(n.__e,e,n,r,a,o,u,m);(b=q.diffed)&&b(e)}catch(R){e.__v=null,q.__e(R,e,n)}return e.__e}function Ho(t,e){q.__c&&q.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){q.__e(r,n.__v)}})}function Sf(t,e,n,r,a,o,u,g){var m,b,_,C,A,T=n.props,k=e.props;if(a=e.type==="svg"||a,o!=null){for(m=0;m<o.length;m++)if((b=o[m])!=null&&((e.type===null?b.nodeType===3:b.localName===e.type)||t==b)){t=b,o[m]=null;break}}if(t==null){if(e.type===null)return document.createTextNode(k);t=a?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type,k.is&&{is:k.is}),o=null,g=!1}if(e.type===null)T!==k&&t.data!=k&&(t.data=k);else{if(o!=null&&(o=$t.slice.call(t.childNodes)),_=(T=n.props||Le).dangerouslySetInnerHTML,C=k.dangerouslySetInnerHTML,!g){if(T===Le)for(T={},A=0;A<t.attributes.length;A++)T[t.attributes[A].name]=t.attributes[A].value;(C||_)&&(C&&_&&C.__html==_.__html||(t.innerHTML=C&&C.__html||""))}xf(t,k,T,a,g),C?e.__k=[]:(e.__k=e.props.children,$o(t,e,n,r,e.type!=="foreignObject"&&a,o,u,Le,g)),g||("value"in k&&(m=k.value)!==void 0&&m!==t.value&&At(t,"value",m,T.value,!1),"checked"in k&&(m=k.checked)!==void 0&&m!==t.checked&&At(t,"checked",m,T.checked,!1))}return t}function Wo(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){q.__e(r,n)}}function pt(t,e,n){var r,a,o;if(q.unmount&&q.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||Wo(r,null,e)),n||typeof t.type=="function"||(n=(a=t.__e)!=null),t.__e=t.__d=void 0,(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(u){q.__e(u,e)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&pt(r[o],e,n);a!=null&&Do(a)}function Cf(t,e,n){return this.constructor(t,n)}function mt(t,e,n){var r,a,o;q.__&&q.__(t,e),a=(r=n===tr)?null:n&&n.__k||e.__k,t=Pe(wt,null,[t]),o=[],nr(e,(r?e:n||e).__k=t,a||Le,Le,e.ownerSVGElement!==void 0,n&&!r?[n]:a?null:$t.slice.call(e.childNodes),o,n||Le,r),Ho(o,t)}function zo(t,e){mt(t,e,tr)}function Rf(t,e){var n,r;for(r in e=Be(Be({},t.props),e),arguments.length>2&&(e.children=$t.slice.call(arguments,2)),n={},e)r!=="key"&&r!=="ref"&&(n[r]=e[r]);return kt(t.type,n,e.key||t.key,e.ref||t.ref,null)}function jo(t){var e={},n={__c:"__cC"+Uo++,__:t,Consumer:function(r,a){return r.children(a)},Provider:function(r){var a,o=this;return this.getChildContext||(a=[],this.getChildContext=function(){return e[n.__c]=o,e},this.shouldComponentUpdate=function(u){o.props.value!==u.value&&a.some(function(g){g.context=u.value,xt(g)})},this.sub=function(u){a.push(u);var g=u.componentWillUnmount;u.componentWillUnmount=function(){a.splice(a.indexOf(u),1),g&&g.call(u)}}),r.children}};return n.Consumer.contextType=n,n.Provider.__=n,n}q={__e:function(t,e){for(var n,r;e=e.__;)if((n=e.__c)&&!n.__)try{if(n.constructor&&n.constructor.getDerivedStateFromError!=null&&(r=!0,n.setState(n.constructor.getDerivedStateFromError(t))),n.componentDidCatch!=null&&(r=!0,n.componentDidCatch(t)),r)return xt(n.__E=n)}catch(a){t=a}throw t}},Oe.prototype.setState=function(t,e){var n;n=this.__s!==this.state?this.__s:this.__s=Be({},this.state),typeof t=="function"&&(t=t(n,this.props)),t&&Be(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),xt(this))},Oe.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),xt(this))},Oe.prototype.render=wt,dt=[],er=0,Po=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,tr=Le,Uo=0;var Ke,Ae,Xr,it=0,In=[],ei=q.__r,ti=q.diffed,ni=q.__c,ri=q.unmount;function ct(t,e){q.__h&&q.__h(Ae,t,it||e),it=0;var n=Ae.__H||(Ae.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function rr(t){return it=1,ir(Zo,t)}function ir(t,e,n){var r=ct(Ke++,2);return r.__c||(r.__c=Ae,r.__=[n?n(e):Zo(void 0,e),function(a){var o=t(r.__[0],a);r.__[0]!==o&&(r.__[0]=o,r.__c.setState({}))}]),r.__}function Jo(t,e){var n=ct(Ke++,3);!q.__s&&sr(n.__H,e)&&(n.__=t,n.__H=e,Ae.__H.__h.push(n))}function or(t,e){var n=ct(Ke++,4);!q.__s&&sr(n.__H,e)&&(n.__=t,n.__H=e,Ae.__h.push(n))}function Vo(t){return it=5,Ht(function(){return{current:t}},[])}function Ko(t,e,n){it=6,or(function(){typeof t=="function"?t(e()):t&&(t.current=e())},n==null?n:n.concat(t))}function Ht(t,e){var n=ct(Ke++,7);return sr(n.__H,e)?(n.__H=e,n.__h=t,n.__=t()):n.__}function Qo(t,e){return it=8,Ht(function(){return t},e)}function Yo(t){var e=Ae.context[t.__c],n=ct(Ke++,9);return n.__c=t,e?(n.__==null&&(n.__=!0,e.sub(Ae)),e.props.value):t.__}function Go(t,e){q.useDebugValue&&q.useDebugValue(e?e(t):t)}function Tf(t){var e=ct(Ke++,10),n=rr();return e.__=t,Ae.componentDidCatch||(Ae.componentDidCatch=function(r){e.__&&e.__(r),n[1](r)}),[n[0],function(){n[1](void 0)}]}function kf(){In.some(function(t){if(t.__P)try{t.__H.__h.forEach(On),t.__H.__h.forEach(Nn),t.__H.__h=[]}catch(e){return t.__H.__h=[],q.__e(e,t.__v),!0}}),In=[]}function On(t){t.t&&t.t()}function Nn(t){var e=t.__();typeof e=="function"&&(t.t=e)}function sr(t,e){return!t||e.some(function(n,r){return n!==t[r]})}function Zo(t,e){return typeof e=="function"?e(t):e}q.__r=function(t){ei&&ei(t),Ke=0,(Ae=t.__c).__H&&(Ae.__H.__h.forEach(On),Ae.__H.__h.forEach(Nn),Ae.__H.__h=[])},q.diffed=function(t){ti&&ti(t);var e=t.__c;if(e){var n=e.__H;n&&n.__h.length&&(In.push(e)!==1&&Xr===q.requestAnimationFrame||((Xr=q.requestAnimationFrame)||function(r){var a,o=function(){clearTimeout(u),cancelAnimationFrame(a),setTimeout(r)},u=setTimeout(o,100);typeof window<"u"&&(a=requestAnimationFrame(o))})(kf))}},q.__c=function(t,e){e.some(function(n){try{n.__h.forEach(On),n.__h=n.__h.filter(function(r){return!r.__||Nn(r)})}catch(r){e.some(function(a){a.__h&&(a.__h=[])}),e=[],q.__e(r,n.__v)}}),ni&&ni(t,e)},q.unmount=function(t){ri&&ri(t);var e=t.__c;if(e){var n=e.__H;if(n)try{n.__.forEach(function(r){return r.t&&r.t()})}catch(r){q.__e(r,e.__v)}}};function ar(t,e){for(var n in e)t[n]=e[n];return t}function Bn(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}var Xo=function(t){var e,n;function r(a){var o;return(o=t.call(this,a)||this).isPureReactComponent=!0,o}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.shouldComponentUpdate=function(a,o){return Bn(this.props,a)||Bn(this.state,o)},r}(Oe);function es(t,e){function n(a){var o=this.props.ref,u=o==a.ref;return!u&&o&&(o.call?o(null):o.current=null),e?!e(this.props,a)||!u:Bn(this.props,a)}function r(a){return this.shouldComponentUpdate=n,Pe(t,ar({},a))}return r.prototype.isReactComponent=!0,r.displayName="Memo("+(t.displayName||t.name)+")",r.t=!0,r}var ii=q.__b;function ts(t){function e(n){var r=ar({},n);return delete r.ref,t(r,n.ref)}return e.prototype.isReactComponent=e.t=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}q.__b=function(t){t.type&&t.type.t&&t.ref&&(t.props.ref=t.ref,t.ref=null),ii&&ii(t)};var oi=function(t,e){return t?$e(t).reduce(function(n,r,a){return n.concat(e(r,a))},[]):null},ns={map:oi,forEach:oi,count:function(t){return t?$e(t).length:0},only:function(t){if((t=$e(t)).length!==1)throw new Error("Children.only() expects only one child.");return t[0]},toArray:$e},Af=q.__e;function rs(t){return t&&((t=ar({},t)).__c=null,t.__k=t.__k&&t.__k.map(rs)),t}function It(){this.__u=0,this.o=null,this.__b=null}function is(t){var e=t.__.__c;return e&&e.u&&e.u(t)}function os(t){var e,n,r;function a(o){if(e||(e=t()).then(function(u){n=u.default||u},function(u){r=u}),r)throw r;if(!n)throw e;return Pe(n,o)}return a.displayName="Lazy",a.t=!0,a}function Qe(){this.i=null,this.l=null}q.__e=function(t,e,n){if(t.then){for(var r,a=e;a=a.__;)if((r=a.__c)&&r.__c)return r.__c(t,e.__c)}Af(t,e,n)},(It.prototype=new Oe).__c=function(t,e){var n=this;n.o==null&&(n.o=[]),n.o.push(e);var r=is(n.__v),a=!1,o=function(){a||(a=!0,r?r(u):u())};e.__c=e.componentWillUnmount,e.componentWillUnmount=function(){o(),e.__c&&e.__c()};var u=function(){var g;if(!--n.__u)for(n.__v.__k[0]=n.state.u,n.setState({u:n.__b=null});g=n.o.pop();)g.forceUpdate()};n.__u++||n.setState({u:n.__b=n.__v.__k[0]}),t.then(o,o)},It.prototype.render=function(t,e){return this.__b&&(this.__v.__k[0]=rs(this.__b),this.__b=null),[Pe(Oe,null,e.u?null:t.children),e.u&&t.fallback]};var si=function(t,e,n){if(++n[1]===n[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(n=t.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.i=n=n[2]}};(Qe.prototype=new Oe).u=function(t){var e=this,n=is(e.__v),r=e.l.get(t);return r[0]++,function(a){var o=function(){e.props.revealOrder?(r.push(a),si(e,t,r)):a()};n?n(o):o()}},Qe.prototype.render=function(t){this.i=null,this.l=new Map;var e=$e(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.l.set(e[n],this.i=[1,0,this.i]);return t.children},Qe.prototype.componentDidUpdate=Qe.prototype.componentDidMount=function(){var t=this;t.l.forEach(function(e,n){si(t,n,e)})};var If=function(){function t(){}var e=t.prototype;return e.getChildContext=function(){return this.props.context},e.render=function(n){return n.children},t}();function Of(t){var e=this,n=t.container,r=Pe(If,{context:e.context},t.vnode);return e.s&&e.s!==n&&(e.v.parentNode&&e.s.removeChild(e.v),pt(e.h),e.p=!1),t.vnode?e.p?(n.__k=e.__k,mt(r,n),e.__k=n.__k):(e.v=document.createTextNode(""),zo("",n),n.appendChild(e.v),e.p=!0,e.s=n,mt(r,n,e.v),e.__k=e.v.__k):e.p&&(e.v.parentNode&&e.s.removeChild(e.v),pt(e.h)),e.h=r,e.componentWillUnmount=function(){e.v.parentNode&&e.s.removeChild(e.v),pt(e.h)},null}function ss(t,e){return Pe(Of,{vnode:t,container:e})}var ai=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;Oe.prototype.isReactComponent={};var as=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103;function Ln(t,e,n){if(e.__k==null)for(;e.firstChild;)e.removeChild(e.firstChild);return mt(t,e),typeof n=="function"&&n(),t?t.__c:null}function Nf(t,e,n){return zo(t,e),typeof n=="function"&&n(),t?t.__c:null}var ci=q.event;function mn(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(n){this["UNSAFE_"+e]=n}})}q.event=function(t){ci&&(t=ci(t)),t.persist=function(){};var e=!1,n=!1,r=t.stopPropagation;t.stopPropagation=function(){r.call(t),e=!0};var a=t.preventDefault;return t.preventDefault=function(){a.call(t),n=!0},t.isPropagationStopped=function(){return e},t.isDefaultPrevented=function(){return n},t.nativeEvent=t};var li={configurable:!0,get:function(){return this.class}},fi=q.vnode;q.vnode=function(t){t.$$typeof=as;var e=t.type,n=t.props;if(e){if(n.class!=n.className&&(li.enumerable="className"in n,n.className!=null&&(n.class=n.className),Object.defineProperty(n,"className",li)),typeof e!="function"){var r,a,o;for(o in n.defaultValue&&n.value!==void 0&&(n.value||n.value===0||(n.value=n.defaultValue),delete n.defaultValue),Array.isArray(n.value)&&n.multiple&&e==="select"&&($e(n.children).forEach(function(u){n.value.indexOf(u.props.value)!=-1&&(u.props.selected=!0)}),delete n.value),n)if(r=ai.test(o))break;if(r)for(o in a=t.props={},n)a[ai.test(o)?o.replace(/[A-Z0-9]/,"-$&").toLowerCase():o]=n[o]}(function(u){var g=t.type,m=t.props;if(m&&typeof g=="string"){var b={};for(var _ in m)/^on(Ani|Tra|Tou)/.test(_)&&(m[_.toLowerCase()]=m[_],delete m[_]),b[_.toLowerCase()]=_;if(b.ondoubleclick&&(m.ondblclick=m[b.ondoubleclick],delete m[b.ondoubleclick]),b.onbeforeinput&&(m.onbeforeinput=m[b.onbeforeinput],delete m[b.onbeforeinput]),b.onchange&&(g==="textarea"||g.toLowerCase()==="input"&&!/^fil|che|ra/i.test(m.type))){var C=b.oninput||"oninput";m[C]||(m[C]=m[b.onchange],delete m[b.onchange])}}})(),typeof e=="function"&&!e.m&&e.prototype&&(mn(e.prototype,"componentWillMount"),mn(e.prototype,"componentWillReceiveProps"),mn(e.prototype,"componentWillUpdate"),e.m=!0)}fi&&fi(t)};var Bf="16.8.0";function cs(t){return Pe.bind(null,t)}function cr(t){return!!t&&t.$$typeof===as}function ls(t){return cr(t)?Rf.apply(null,arguments):t}function fs(t){return!!t.__k&&(mt(null,t),!0)}function us(t){return t&&(t.base||t.nodeType===1&&t)||null}var hs=function(t,e){return t(e)};const Lf={useState:rr,useReducer:ir,useEffect:Jo,useLayoutEffect:or,useRef:Vo,useImperativeHandle:Ko,useMemo:Ht,useCallback:Qo,useContext:Yo,useDebugValue:Go,version:"16.8.0",Children:ns,render:Ln,hydrate:Ln,unmountComponentAtNode:fs,createPortal:ss,createElement:Pe,createContext:jo,createFactory:cs,cloneElement:ls,createRef:qo,Fragment:wt,isValidElement:cr,findDOMNode:us,Component:Oe,PureComponent:Xo,memo:es,forwardRef:ts,unstable_batchedUpdates:hs,Suspense:It,SuspenseList:Qe,lazy:os},Pf=Object.freeze(Object.defineProperty({__proto__:null,default:Lf,version:Bf,Children:ns,render:Ln,hydrate:Nf,unmountComponentAtNode:fs,createPortal:ss,createFactory:cs,cloneElement:ls,isValidElement:cr,findDOMNode:us,PureComponent:Xo,memo:es,forwardRef:ts,unstable_batchedUpdates:hs,Suspense:It,SuspenseList:Qe,lazy:os,createElement:Pe,createContext:jo,createRef:qo,Fragment:wt,Component:Oe,useState:rr,useReducer:ir,useEffect:Jo,useLayoutEffect:or,useRef:Vo,useImperativeHandle:Ko,useMemo:Ht,useCallback:Qo,useContext:Yo,useDebugValue:Go,useErrorBoundary:Tf},Symbol.toStringTag,{value:"Module"})),Uf=pi(Pf);function ds(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var ke=gl,ps=ds(_t),Df=ds(bf),O=Uf;function qf(t){ps.toString(t,{type:"terminal"}).then(console.log)}var Ff=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function $f(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}var Hf="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",Wf="WalletConnect",zf=300,jf="rgb(64, 153, 255)",gs="walletconnect-wrapper",ui="walletconnect-style-sheet",vs="walletconnect-qrcode-modal",Jf="walletconnect-qrcode-close",ms="walletconnect-qrcode-text",Vf="walletconnect-connect-button";function Kf(t){return O.createElement("div",{className:"walletconnect-modal__header"},O.createElement("img",{src:Hf,className:"walletconnect-modal__headerLogo"}),O.createElement("p",null,Wf),O.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:t.onClose},O.createElement("div",{id:Jf,className:"walletconnect-modal__close__icon"},O.createElement("div",{className:"walletconnect-modal__close__line1"}),O.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function Qf(t){return O.createElement("a",{className:"walletconnect-connect__button",href:t.href,id:Vf+"-"+t.name,onClick:t.onClick,rel:"noopener noreferrer",style:{backgroundColor:t.color},target:"_blank"},t.name)}var Yf="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function Gf(t){var e=t.color,n=t.href,r=t.name,a=t.logo,o=t.onClick;return O.createElement("a",{className:"walletconnect-modal__base__row",href:n,onClick:o,rel:"noopener noreferrer",target:"_blank"},O.createElement("h3",{className:"walletconnect-modal__base__row__h3"},r),O.createElement("div",{className:"walletconnect-modal__base__row__right"},O.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+a+"') "+e,backgroundSize:"100%"}}),O.createElement("img",{src:Yf,className:"walletconnect-modal__base__row__right__caret"})))}function Zf(t){var e=t.color,n=t.href,r=t.name,a=t.logo,o=t.onClick,u=window.innerWidth<768?(r.length>8?2.5:2.7)+"vw":"inherit";return O.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:n,onClick:o,rel:"noopener noreferrer",target:"_blank"},O.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+a+"') "+e,backgroundSize:"100%"}}),O.createElement("div",{style:{fontSize:u},className:"walletconnect-connect__button__text"},r))}var Xf=5,_n=12;function eu(t){var e=ke.isAndroid(),n=O.useState(""),r=n[0],a=n[1],o=O.useState(""),u=o[0],g=o[1],m=O.useState(1),b=m[0],_=m[1],C=u?t.links.filter(function(R){return R.name.toLowerCase().includes(u.toLowerCase())}):t.links,A=t.errorMessage,T=u||C.length>Xf,k=Math.ceil(C.length/_n),I=[(b-1)*_n+1,b*_n],w=C.length?C.filter(function(R,N){return N+1>=I[0]&&N+1<=I[1]}):[],E=!e&&k>1,S=void 0;function x(R){a(R.target.value),clearTimeout(S),R.target.value?S=setTimeout(function(){g(R.target.value),_(1)},1e3):(a(""),g(""),_(1))}return O.createElement("div",null,O.createElement("p",{id:ms,className:"walletconnect-qrcode__text"},e?t.text.connect_mobile_wallet:t.text.choose_preferred_wallet),!e&&O.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:r,onChange:x}),O.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(e?"__android":T&&C.length?"__wrap":"")},e?O.createElement(Qf,{name:t.text.connect,color:jf,href:t.uri,onClick:O.useCallback(function(){ke.saveMobileLinkInfo({name:"Unknown",href:t.uri})},[])}):w.length?w.map(function(R){var N=R.color,L=R.name,D=R.shortName,F=R.logo,V=ke.formatIOSMobile(t.uri,R),v=O.useCallback(function(){ke.saveMobileLinkInfo({name:L,href:V})},[w]);return T?O.createElement(Zf,{color:N,href:V,name:D||L,logo:F,onClick:v}):O.createElement(Gf,{color:N,href:V,name:L,logo:F,onClick:v})}):O.createElement(O.Fragment,null,O.createElement("p",null,A.length?t.errorMessage:!!t.links.length&&!C.length?t.text.no_wallets_found:t.text.loading))),E&&O.createElement("div",{className:"walletconnect-modal__footer"},Array(k).fill(0).map(function(R,N){var L=N+1,D=b===L;return O.createElement("a",{style:{margin:"auto 10px",fontWeight:D?"bold":"normal"},onClick:function(){return _(L)}},L)})))}function tu(t){var e=!!t.message.trim();return O.createElement("div",{className:"walletconnect-qrcode__notification"+(e?" notification__show":"")},t.message)}var nu=function(t){try{var e="";return Promise.resolve(ps.toString(t,{margin:0,type:"svg"})).then(function(n){return typeof n=="string"&&(e=n.replace("<svg",'<svg class="walletconnect-qrcode__image"')),e})}catch(n){return Promise.reject(n)}};function ru(t){var e=O.useState(""),n=e[0],r=e[1],a=O.useState(""),o=a[0],u=a[1];O.useEffect(function(){try{return Promise.resolve(nu(t.uri)).then(function(m){u(m)})}catch(m){Promise.reject(m)}},[]);var g=function(){var m=Df(t.uri);m?(r(t.text.copied_to_clipboard),setInterval(function(){return r("")},1200)):(r("Error"),setInterval(function(){return r("")},1200))};return O.createElement("div",null,O.createElement("p",{id:ms,className:"walletconnect-qrcode__text"},t.text.scan_qrcode_with_wallet),O.createElement("div",{dangerouslySetInnerHTML:{__html:o}}),O.createElement("div",{className:"walletconnect-modal__footer"},O.createElement("a",{onClick:g},t.text.copy_to_clipboard)),O.createElement(tu,{message:n}))}function iu(t){var e=ke.isAndroid(),n=ke.isMobile(),r=n?t.qrcodeModalOptions&&t.qrcodeModalOptions.mobileLinks?t.qrcodeModalOptions.mobileLinks:void 0:t.qrcodeModalOptions&&t.qrcodeModalOptions.desktopLinks?t.qrcodeModalOptions.desktopLinks:void 0,a=O.useState(!1),o=a[0],u=a[1],g=O.useState(!1),m=g[0],b=g[1],_=O.useState(!n),C=_[0],A=_[1],T={mobile:n,text:t.text,uri:t.uri,qrcodeModalOptions:t.qrcodeModalOptions},k=O.useState(""),I=k[0],w=k[1],E=O.useState(!1),S=E[0],x=E[1],R=O.useState([]),N=R[0],L=R[1],D=O.useState(""),F=D[0],V=D[1],v=function(){m||o||r&&!r.length||N.length>0||O.useEffect(function(){var l=function(){try{if(e)return Promise.resolve();u(!0);var c=$f(function(){var f=t.qrcodeModalOptions&&t.qrcodeModalOptions.registryUrl?t.qrcodeModalOptions.registryUrl:ke.getWalletRegistryUrl();return Promise.resolve(fetch(f)).then(function(d){return Promise.resolve(d.json()).then(function(y){var M=y.listings,h=n?"mobile":"desktop",s=ke.getMobileLinkRegistry(ke.formatMobileRegistry(M,h),r);u(!1),b(!0),V(s.length?"":t.text.no_supported_wallets),L(s);var p=s.length===1;p&&(w(ke.formatIOSMobile(t.uri,s[0])),A(!0)),x(p)})})},function(f){u(!1),b(!0),V(t.text.something_went_wrong),console.error(f)});return Promise.resolve(c&&c.then?c.then(function(){}):void 0)}catch(f){return Promise.reject(f)}};l()})};v();var i=n?C:!C;return O.createElement("div",{id:vs,className:"walletconnect-qrcode__base animated fadeIn"},O.createElement("div",{className:"walletconnect-modal__base"},O.createElement(Kf,{onClose:t.onClose}),S&&C?O.createElement("div",{className:"walletconnect-modal__single_wallet"},O.createElement("a",{onClick:function(){return ke.saveMobileLinkInfo({name:N[0].name,href:I})},href:I,rel:"noopener noreferrer",target:"_blank"},t.text.connect_with+" "+(S?N[0].name:"")+" \u203A")):e||o||!o&&N.length?O.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(i?" right__selected":"")},O.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),n?O.createElement(O.Fragment,null,O.createElement("a",{onClick:function(){return A(!1),v()}},t.text.mobile),O.createElement("a",{onClick:function(){return A(!0)}},t.text.qrcode)):O.createElement(O.Fragment,null,O.createElement("a",{onClick:function(){return A(!0)}},t.text.qrcode),O.createElement("a",{onClick:function(){return A(!1),v()}},t.text.desktop))):null,O.createElement("div",null,C||!e&&!o&&!N.length?O.createElement(ru,Object.assign({},T)):O.createElement(eu,Object.assign({},T,{links:N,errorMessage:F})))))}var ou={choose_preferred_wallet:"W\xE4hle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterst\xFCtzten Wallet",no_wallets_found:"keine Wallet gefunden"},su={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},au={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera m\xF3vil",scan_qrcode_with_wallet:"Escanea el c\xF3digo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali\xF3 mal",no_supported_wallets:"Todav\xEDa no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},cu={choose_preferred_wallet:"Choisissez votre portefeuille pr\xE9f\xE9r\xE9",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi\xE9!",connect_with:"Connectez-vous \xE0 l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn\xE9",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv\xE9"},lu={choose_preferred_wallet:"\uC6D0\uD558\uB294 \uC9C0\uAC11\uC744 \uC120\uD0DD\uD558\uC138\uC694",connect_mobile_wallet:"\uBAA8\uBC14\uC77C \uC9C0\uAC11\uACFC \uC5F0\uACB0",scan_qrcode_with_wallet:"WalletConnect \uC9C0\uC6D0 \uC9C0\uAC11\uC5D0\uC11C QR\uCF54\uB4DC\uB97C \uC2A4\uCE94\uD558\uC138\uC694",connect:"\uC5F0\uACB0",qrcode:"QR \uCF54\uB4DC",mobile:"\uBAA8\uBC14\uC77C",desktop:"\uB370\uC2A4\uD06C\uD0D1",copy_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC",copied_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!",connect_with:"\uC640 \uC5F0\uACB0\uD558\uB2E4",loading:"\uB85C\uB4DC \uC911...",something_went_wrong:"\uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.",no_supported_wallets:"\uC544\uC9C1 \uC9C0\uC6D0\uB418\uB294 \uC9C0\uAC11\uC774 \uC5C6\uC2B5\uB2C8\uB2E4",no_wallets_found:"\uC9C0\uAC11\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},fu={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se \xE0 carteira m\xF3vel",scan_qrcode_with_wallet:"Ler o c\xF3digo QR com uma carteira compat\xEDvel com WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda n\xE3o h\xE1 carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},uu={choose_preferred_wallet:"\u9009\u62E9\u4F60\u7684\u94B1\u5305",connect_mobile_wallet:"\u8FDE\u63A5\u81F3\u79FB\u52A8\u7AEF\u94B1\u5305",scan_qrcode_with_wallet:"\u4F7F\u7528\u517C\u5BB9 WalletConnect \u7684\u94B1\u5305\u626B\u63CF\u4E8C\u7EF4\u7801",connect:"\u8FDE\u63A5",qrcode:"\u4E8C\u7EF4\u7801",mobile:"\u79FB\u52A8",desktop:"\u684C\u9762",copy_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F",copied_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F\u6210\u529F\uFF01",connect_with:"\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u8FDE\u63A5",loading:"\u6B63\u5728\u52A0\u8F7D...",something_went_wrong:"\u51FA\u4E86\u95EE\u9898",no_supported_wallets:"\u76EE\u524D\u8FD8\u6CA1\u6709\u652F\u6301\u7684\u94B1\u5305",no_wallets_found:"\u6CA1\u6709\u627E\u5230\u94B1\u5305"},hu={choose_preferred_wallet:"\u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0631\u062F \u0646\u0638\u0631 \u062E\u0648\u062F \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F",connect_mobile_wallet:"\u0628\u0647 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0628\u0627\u06CC\u0644 \u0648\u0635\u0644 \u0634\u0648\u06CC\u062F",scan_qrcode_with_wallet:"\u06A9\u062F QR \u0631\u0627 \u0628\u0627 \u06CC\u06A9 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0633\u0627\u0632\u06AF\u0627\u0631 \u0628\u0627 WalletConnect \u0627\u0633\u06A9\u0646 \u06A9\u0646\u06CC\u062F",connect:"\u0627\u062A\u0635\u0627\u0644",qrcode:"\u06A9\u062F QR",mobile:"\u0633\u06CC\u0627\u0631",desktop:"\u062F\u0633\u06A9\u062A\u0627\u067E",copy_to_clipboard:"\u06A9\u067E\u06CC \u0628\u0647 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F",copied_to_clipboard:"\u062F\u0631 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F \u06A9\u067E\u06CC \u0634\u062F!",connect_with:"\u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627",loading:"...\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",something_went_wrong:"\u0645\u0634\u06A9\u0644\u06CC \u067E\u06CC\u0634 \u0622\u0645\u062F",no_supported_wallets:"\u0647\u0646\u0648\u0632 \u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC \u0634\u062F\u0647 \u0627\u06CC \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F",no_wallets_found:"\u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644\u06CC \u067E\u06CC\u062F\u0627 \u0646\u0634\u062F"},hi={de:ou,en:su,es:au,fr:cu,ko:lu,pt:fu,zh:uu,fa:hu};function du(){var t=ke.getDocumentOrThrow(),e=t.getElementById(ui);e&&t.head.removeChild(e);var n=t.createElement("style");n.setAttribute("id",ui),n.innerText=Ff,t.head.appendChild(n)}function pu(){var t=ke.getDocumentOrThrow(),e=t.createElement("div");return e.setAttribute("id",gs),t.body.appendChild(e),e}function _s(){var t=ke.getDocumentOrThrow(),e=t.getElementById(vs);e&&(e.className=e.className.replace("fadeIn","fadeOut"),setTimeout(function(){var n=t.getElementById(gs);n&&t.body.removeChild(n)},zf))}function gu(t){return function(){_s(),t&&t()}}function vu(){var t=ke.getNavigatorOrThrow().language.split("-")[0]||"en";return hi[t]||hi.en}function mu(t,e,n){du();var r=pu();O.render(O.createElement(iu,{text:vu(),uri:t,onClose:gu(e),qrcodeModalOptions:n}),r)}function _u(){_s()}var ys=function(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"};function yu(t,e,n){console.log(t),ys()?qf(t):mu(t,e,n)}function wu(){ys()||_u()}var bu={open:yu,close:wu},Mu=bu;class Eu extends Ps{constructor(e){super(),this.events=new vi,this.accounts=[],this.chainId=1,this.pending=!1,this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModalOptions=void 0,this.opts=e,this.chainId=(e==null?void 0:e.chainId)||this.chainId,this.wc=this.register(e)}get connected(){return typeof this.wc<"u"&&this.wc.connected}get connecting(){return this.pending}get connector(){return this.wc=this.register(this.opts),this.wc}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e){if(this.connected){this.onOpen();return}return new Promise((n,r)=>{this.on("error",a=>{r(a)}),this.on("open",()=>{n()}),this.create(e)})}async close(){typeof this.wc>"u"||(this.wc.connected&&this.wc.killSession(),this.onClose())}async send(e){this.wc=this.register(this.opts),this.connected||await this.open(),this.sendPayload(e).then(n=>this.events.emit("payload",n)).catch(n=>this.events.emit("payload",yn(e.id,n.message)))}register(e){if(this.wc)return this.wc;this.opts=e||this.opts,this.bridge=e!=null&&e.connector?e.connector.bridge:(e==null?void 0:e.bridge)||"https://bridge.walletconnect.org",this.qrcode=typeof(e==null?void 0:e.qrcode)>"u"||e.qrcode!==!1,this.chainId=typeof(e==null?void 0:e.chainId)<"u"?e.chainId:this.chainId,this.qrcodeModalOptions=e==null?void 0:e.qrcodeModalOptions;const n={bridge:this.bridge,qrcodeModal:this.qrcode?Mu:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:e==null?void 0:e.storageId,signingMethods:e==null?void 0:e.signingMethods,clientMeta:e==null?void 0:e.clientMeta};if(this.wc=typeof(e==null?void 0:e.connector)<"u"?e.connector:new pl(n),typeof this.wc>"u")throw new Error("Failed to register WalletConnect connector");return this.wc.accounts.length&&(this.accounts=this.wc.accounts),this.wc.chainId&&(this.chainId=this.wc.chainId),this.registerConnectorEvents(),this.wc}onOpen(e){this.pending=!1,e&&(this.wc=e),this.events.emit("open")}onClose(){this.pending=!1,this.wc&&(this.wc=void 0),this.events.emit("close")}onError(e,n="Failed or Rejected Request",r=-32e3,a){const o={id:e.id,jsonrpc:e.jsonrpc,error:{code:r,message:n}};return typeof a<"u"&&(o.error.data=a),this.events.emit("payload",o),o}create(e){this.wc=this.register(this.opts),this.chainId=e||this.chainId,!(this.connected||this.pending)&&(this.pending=!0,this.registerConnectorEvents(),this.wc.createSession({chainId:this.chainId}).then(()=>this.events.emit("created")).catch(n=>this.events.emit("error",n)))}registerConnectorEvents(){this.wc=this.register(this.opts),this.wc.on("connect",e=>{var n,r;if(e){this.events.emit("error",e);return}this.accounts=((n=this.wc)===null||n===void 0?void 0:n.accounts)||[],this.chainId=((r=this.wc)===null||r===void 0?void 0:r.chainId)||this.chainId,this.onOpen()}),this.wc.on("disconnect",e=>{if(e){this.events.emit("error",e);return}this.onClose()}),this.wc.on("modal_closed",()=>{this.events.emit("error",new Error("User closed modal"))}),this.wc.on("session_update",(e,n)=>{const{accounts:r,chainId:a}=n.params[0];(!this.accounts||r&&this.accounts!==r)&&(this.accounts=r,this.events.emit("accountsChanged",r)),(!this.chainId||a&&this.chainId!==a)&&(this.chainId=a,this.events.emit("chainChanged",a))})}async sendPayload(e){this.wc=this.register(this.opts);try{const n=await this.wc.unsafeSend(e);return this.sanitizeResponse(n)}catch(n){return this.onError(e,n.message)}}sanitizeResponse(e){return typeof e.error<"u"&&typeof e.error.code>"u"?yn(e.id,e.error.message,e.error.data):e}}class Su{constructor(e){this.events=new vi,this.rpc={infuraId:e==null?void 0:e.infuraId,custom:e==null?void 0:e.rpc},this.signer=new Tr(new Eu(e));const n=this.signer.connection.chainId||(e==null?void 0:e.chainId)||1;this.http=this.setHttpProvider(n),this.registerEventListeners()}get connected(){return this.signer.connection.connected}get connector(){return this.signer.connection.connector}get accounts(){return this.signer.connection.accounts}get chainId(){return this.signer.connection.chainId}get rpcUrl(){var e;return((e=this.http)===null||e===void 0?void 0:e.connection).url||""}async request(e){switch(e.method){case"eth_requestAccounts":return await this.connect(),this.signer.connection.accounts;case"eth_accounts":return this.signer.connection.accounts;case"eth_chainId":return this.signer.connection.chainId}if(Hn.includes(e.method))return this.signer.request(e);if(typeof this.http>"u")throw new Error(`Cannot request JSON-RPC method (${e.method}) without provided rpc url`);return this.http.request(e)}sendAsync(e,n){this.request(e).then(r=>n(null,r)).catch(r=>n(r,void 0))}async enable(){return await this.request({method:"eth_requestAccounts"})}async connect(){this.signer.connection.connected||await this.signer.connect()}async disconnect(){this.signer.connection.connected&&await this.signer.disconnect()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}registerEventListeners(){this.signer.connection.on("accountsChanged",e=>{this.events.emit("accountsChanged",e)}),this.signer.connection.on("chainChanged",e=>{this.http=this.setHttpProvider(e),this.events.emit("chainChanged",e)}),this.signer.on("disconnect",()=>{this.events.emit("disconnect")})}setHttpProvider(e){const n=cc(e,this.rpc);return typeof n>"u"?void 0:new Tr(new Vs(n))}}export{Su as default};
